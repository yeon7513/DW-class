"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83876],{45237:function(e,t,n){n.d(t,{E:function(){return createObjectRemovalResultUploadFile},Vp:function(){return createUpscaleResultUploadFile},aI:function(){return createAIDrawingResultUploadFile}});var o=n(31106),i=n(6477);let createUpscaleResultUploadFile=async e=>{let t=(0,o.x2)().replace(/-/g,"").slice(2),n=await (0,i.tC)({url:e,fileName:"upscale_".concat(t,"_MiriCanvas"),disableCache:!0});return n.category="UPSCALE_IMAGE",n},createObjectRemovalResultUploadFile=async e=>{let t=(0,o.x2)().replace(/-/g,"").slice(2),n=await (0,i.tC)({url:e,fileName:"clear_area_".concat(t,"_MiriCanvas"),disableCache:!0});return n.category="OBJECT_REMOVAL_IMAGE",n},createAIDrawingResultUploadFile=async e=>{let{url:t,responseUuid:n,generateOrder:r}=e,a=(0,o.x2)().replace(/-/g,"").slice(2),l="AIDrawing_".concat(a,"_").concat(n,"_").concat(r,"_MiriCanvas"),c=await (0,i.tC)({url:t,fileName:l,disableCache:!0});return c.category="AI_IMAGE",c}},58293:function(e,t,n){n.d(t,{t:function(){return useGetPhotoExtraEditGACommonPayloadSnapshotValue}});var o=n(66735),i=n(6696),r=n(14696);let useGetPhotoExtraEditGACommonPayloadSnapshotValue=()=>{let{currentLanguage:e}=(0,r.U)(),{getCurrentUserSnapshotValue:t}=(0,i.c)(),{getDesignIdxSnapshotValue:n}=(0,o.h)();return{getPhotoExtraEditGACommonPayloadSnapshotValue:()=>{let{accountId:o,selectedTeamIdx:i,currentPlan:r}=t(),{designIdx:a}=n();return{account_id:o,team_idx:i,plan_type:r,language_setting:e,design_idx:a}}}}},88306:function(e,t,n){n.d(t,{N:function(){return AppDeployChangeButtonView}});var o=n(85893),i=n(94771),r=n(94442),a=n(37500);let AppDeployChangeButtonView=()=>(0,o.jsx)(i.zx,{color:"primary",onClick:()=>{(0,a.y)(r.WebViewEvent.ON_CLICK_DEPLOY_SETTING,void 0)},shape:"square",size:"S",textOverflow:"ellipsis",type:"fill",width:"auto",widthType:"hug",children:"앱 배포 환경 변경"})},83722:function(e,t,n){n.d(t,{C:function(){return MainPanelView}});var o=n(82729),i=n(85893),r=n(5152),a=n.n(r);n(67294);var l=n(88095);function _templateObject(){let e=(0,o._)(["\n  position: relative;\n  height: 100%;\n  background-color: ",";\n"]);return _templateObject=function(){return e},e}let c=a()(()=>Promise.all([n.e(95879),n.e(33021),n.e(71248),n.e(2529)]).then(n.bind(n,19160)).then(e=>e.EditorAreaView),{loadableGenerated:{webpack:()=>[19160]},ssr:!1}),MainPanelView=()=>(0,i.jsx)(s,{children:(0,i.jsx)(c,{})}),s=l.ZP.div.withConfig({componentId:"sc-25ea02c8-0"})(_templateObject(),e=>{let{theme:t}=e;return t.token.s_color_background_canvas})},83876:function(e,t,n){n.r(t),n.d(t,{DesktopRootView:function(){return tc}});var o=n(82729),i=n(85893),r=n(5152),a=n.n(r),l=n(88095),c=n(43779),s=n(33219),d=n(43101),u=n(67294);let p={targetMap:{BACKGROUND_REMOVAL:null,OBJECT_REMOVAL:{imageElement:null,brushCanvasElement:null},UPSCALE:null}},_=(0,u.createContext)({state:p,dispatch:()=>null}),photoExtraEditorHistoryReducer=(e,t)=>"SET_OBJECT_REMOVAL_TARGET"===t.type?(e.targetMap.OBJECT_REMOVAL=t.objectRemovalTarget,{...e}):e,PhotoExtraEditorHistoryProvider=e=>{let{children:t}=e,[n,o]=(0,u.useReducer)(photoExtraEditorHistoryReducer,p);return(0,i.jsx)(_.Provider,{value:{state:n,dispatch:o},children:t})};var h=n(94771),m=n(15520),g=n(58293),O=n(95687);let useSendActionClickObjectRemovalEraseButtonEvent=()=>{let{emit:e}=(0,O.x)(),{getPhotoExtraEditGACommonPayloadSnapshotValue:t}=(0,g.t)();return{sendActionClickObjectRemovalEraseButtonEvent:n=>{let{image_url:o,brush_size:i}=n,{team_idx:r,account_id:a,design_idx:l,plan_type:c,language_setting:s}=t();e("ACTION_CLICK_OBJECT_REMOVAL_ERASE_BUTTON",{event:"ai_clear_area",log_type:"ai_clear_area",team_idx:r,account_id:a,design_idx:l,image_url:o,action_label:"지우기",action_depth:"영역지우개",etc1:i.toString(),plan_type:c,language_setting:s,action_type:"클릭"})}}};var f=n(99042),b=n(22479),x=n(49678),E=n(45237),v=n(44083),C=n(22453),j=n(43057);let useSendActionClickObjectRemovalEditOtherButtonEvent=()=>{let{emit:e}=(0,O.x)(),{getPhotoExtraEditGACommonPayloadSnapshotValue:t}=(0,g.t)();return{sendActionClickObjectRemovalEditOtherButtonEvent:n=>{let{image_url:o}=n,{team_idx:i,account_id:r,design_idx:a,plan_type:l,language_setting:c}=t();e("ACTION_CLICK_OBJECT_REMOVAL_EDIT_OTHER_BUTTON",{event:"ai_clear_area",log_type:"ai_clear_area",team_idx:i,account_id:r,design_idx:a,image_url:o,action_label:"다른편집먼저진행",action_depth:"영역지우개",plan_type:l,language_setting:c,action_type:"클릭"})}}};var R=n(71119),I=n(34225),w=n(33563),P=n(80355),T=n(98964),y=n(15103),k=n(48583),A=n(95495),B=n(88054);let D=(0,y.cn)([]),S=(0,y.cn)([]),M=(0,A.PU)(D),L=(0,A.PU)(S),redoHistorySnapshotValue=()=>(0,B.k)().get(D),undoHistorySnapshotValue=()=>(0,B.k)().get(S),useSetRedoHistoryStore=()=>{let[e,t]=(0,k.KO)(M),n=(0,k.b9)(D);return{redoHistoryAtoms:e,removeLastRedoHistory:()=>t({type:"remove",atom:e[e.length-1]}),addRedoHistory:e=>{t({type:"insert",value:e})},clearRedoHistory:()=>{n([])}}},useSetUndoHistoryStore=()=>{let[e,t]=(0,k.KO)(L),n=(0,k.b9)(S);return{undoHistoryAtoms:e,removeLastUndoHistory:()=>t({type:"remove",atom:e[e.length-1]}),addUndoHistory:e=>{t({type:"insert",value:e})},clearUndoHistory:()=>{n([])}}};var V=n(1728);let updateObjectRemovalCanvasByHistory=e=>{let{target:t,lastHistoryInfo:n}=e,{brushCanvasElement:o,imageElement:i}=t;if(!o||!i)return;i.src=n.imageInfo.url;let{brushCanvasDataUrl:r}=n.canvasInfo;(0,V.Fd)(r).then(e=>{var t,n;null===(t=o.getContext("2d"))||void 0===t||t.clearRect(0,0,o.width,o.height),null===(n=o.getContext("2d"))||void 0===n||n.drawImage(e,0,0,o.width,o.height)})},usePhotoExtraEditorHistory=()=>{let{state:e}=(0,u.useContext)(_),{targetMap:t}=e,{removeLastRedoHistory:n,addRedoHistory:o,redoHistoryAtoms:i,clearRedoHistory:r}=useSetRedoHistoryStore(),{removeLastUndoHistory:a,addUndoHistory:l,undoHistoryAtoms:c}=useSetUndoHistoryStore(),s=0===c.length,d=0===i.length;return{undo:()=>{let e=undoHistorySnapshotValue().pop();if(!e)return;a();let n=e.toolType;(0,T.EQ)(n).with("OBJECT_REMOVAL",()=>{updateObjectRemovalCanvasByHistory({target:t.OBJECT_REMOVAL,lastHistoryInfo:e.undoInfo})}),o(e)},redo:()=>{let e=redoHistorySnapshotValue().pop();if(!e)return;n();let o=e.toolType;(0,T.EQ)(o).with("OBJECT_REMOVAL",()=>{updateObjectRemovalCanvasByHistory({target:t.OBJECT_REMOVAL,lastHistoryInfo:e.redoInfo})}),l(e)},isEmptyUndoHistory:s,isEmptyRedoHistory:d,saveNewHistory:e=>{l(e),r()}}},useObjectRemovalTarget=e=>{let{target:t}=e,{saveNewHistory:n}=usePhotoExtraEditorHistory(),updateObjectRemovalCanvas=async e=>{var o;let{brushCanvasElement:i,imageElement:r}=t;if(!i||!r)return;let a={imageInfo:{url:r.src,width:r.width,height:r.height},canvasInfo:{brushCanvasDataUrl:i.toDataURL("image/png")}};r.src=e,await r.decode(),null===(o=i.getContext("2d"))||void 0===o||o.clearRect(0,0,i.width,i.height);let l={toolType:"OBJECT_REMOVAL",redoInfo:{imageInfo:{url:e,width:a.imageInfo.width,height:a.imageInfo.height},canvasInfo:{brushCanvasDataUrl:i.toDataURL("image/png")}},undoInfo:a};n(l)},transformTargetToUploadFile=async()=>{let{imageElement:e}=t;if(e)return await (0,E.E)(e.src)};return{updateObjectRemovalCanvas,initObjectRemovalTarget:e=>{var o;let{brushCanvasElement:i,imageElement:r}=t;if(!i||!r)return;let a={imageInfo:{url:r.src,width:r.width,height:r.height},canvasInfo:{brushCanvasDataUrl:i.toDataURL("image/png")}};r.src=e,null===(o=i.getContext("2d"))||void 0===o||o.clearRect(0,0,i.width,i.height);let l={toolType:"OBJECT_REMOVAL",redoInfo:{imageInfo:{url:e,width:a.imageInfo.width,height:a.imageInfo.height},canvasInfo:{brushCanvasDataUrl:i.toDataURL("image/png")}},undoInfo:a};n(l)},transformTargetToUploadFile}},useObjectRemovalWithEditorCommand=()=>{let e=(0,w.b)("COMMAND_APPLY_PHOTO_EXTRA_EDIT_TOOL"),t=(0,w.b)("COMMAND_CHANGE_PHOTO_EXTRA_EDIT_STATUS"),{state:n}=(0,u.useContext)(_),{targetMap:o}=n,{transformTargetToUploadFile:i}=useObjectRemovalTarget({target:o.OBJECT_REMOVAL}),{handleFileUpload:r}=(0,P.F)(),applyPhotoExtraEditToolToPhotoItem=async n=>{await t({itemId:n,toolType:"OBJECT_REMOVAL",status:"RUNNING"});let o=await i();o&&r({files:[o],onUploadSuccess:t=>{e({itemId:n,toolType:"OBJECT_REMOVAL",srcImageInfo:{url:t[0].originUrl,userFileType:t[0].type,userFileKey:t[0].fileKey}})}})},waitOnMainEditor=async e=>{await t({itemId:e,toolType:"OBJECT_REMOVAL",status:"RUNNING"})},onFinishWaitOnMainEditor=async t=>{let{file:n,itemId:o}=t;r({files:[n],onUploadSuccess:t=>{e({itemId:o,toolType:"OBJECT_REMOVAL",srcImageInfo:{url:t[0].originUrl,userFileType:t[0].type,userFileKey:t[0].fileKey}})}})};return{applyPhotoExtraEditToolToPhotoItem,waitOnMainEditor,onFinishWaitOnMainEditor}};var H=n(29444);let useObjectRemovalNotificationPopup=()=>{let{translate:e}=(0,v.$G)(),{waitOnMainEditor:t}=useObjectRemovalWithEditorCommand(),{closePhotoExtraEditor:n}=(0,j.e)(),{clearRedoHistory:o}=useSetRedoHistoryStore(),{clearUndoHistory:r}=useSetUndoHistoryStore(),{sendActionClickObjectRemovalEditOtherButtonEvent:a}=useSendActionClickObjectRemovalEditOtherButtonEvent();return{openSuccessNotificationPopup:()=>{I.t.open({id:"OBJECT_REMOVAL_SUCCESS",type:"normal",duration:6e3,iconName:"information_circle_filled",title:e("EDITOR.EDITOR_428"),content:(0,i.jsx)(i.Fragment,{children:e("EDITOR.EDITOR_414")})})},openStartNotificationPopup:l=>{let{itemId:c,initialImageSrc:s}=l,onClickEditOtherButton=()=>{var e;let i=(0,j.a)(c),a=null===(e=(0,H.Q)(c))||void 0===e?void 0:e.isPending;i&&a&&t(c),r(),o(),n(),I.t.close("OBJECT_REMOVAL_START")};setTimeout(()=>I.t.open({id:"OBJECT_REMOVAL_START",type:"normal",duration:6e3,iconName:"information_circle_filled",title:e("EDITOR.EDITOR_427"),content:(0,i.jsxs)(i.Fragment,{children:[e("EDITOR.EDITOR_423"),(0,i.jsx)(R.s.Action,{label:e("EDITOR.EDITOR_424"),onClick:()=>(0,f.Q)(onClickEditOtherButton,a)({image_url:s})})]})}),3e3)}}};var U=n(26345);let usePhotoExtraEdit=()=>{let{data:e}=(0,U.A)(),eraseArea=async t=>null==e?void 0:e.eraseArea(t);return{eraseArea}},isEmptyCanvas=e=>{let t=document.createElement("canvas");return t.width=e.width,t.height=e.height,e.toDataURL()==t.toDataURL()};var N=n(46685);let transformObjectRemovalCanvasToMaskingImage=async e=>{let{originalImageElement:t,maskingCanvasElement:n}=e,o=n.toDataURL("image/png"),i=await (0,V.Fd)(o),r=document.createElement("canvas");r.width=t.naturalWidth,r.height=t.naturalHeight;let a=r.getContext("2d");if(a)return a.fillStyle="white",a.fillRect(0,0,t.naturalWidth,t.naturalHeight),a.globalCompositeOperation="destination-in",a.drawImage(i,0,0,t.naturalWidth,t.naturalHeight),a.fillStyle="black",a.globalCompositeOperation="destination-over",a.fillRect(0,0,t.naturalWidth,t.naturalHeight),a.globalCompositeOperation="source-over",await (0,N.pX)({imageUrl:r.toDataURL("image/png")})};var G=n(46903);let useObjectRemoval=e=>{let{target:t}=e,{onSendRequest:n,onSuccessResult:o,onErrorRequest:i,onErrorResult:r}=(0,H.C)(),{eraseArea:a}=usePhotoExtraEdit(),{onFinishWaitOnMainEditor:l}=useObjectRemovalWithEditorCommand(),{user:c,selectedTeam:s}=(0,b.x)(),{openStartNotificationPopup:d,openSuccessNotificationPopup:u}=useObjectRemovalNotificationPopup(),p=!!(0,x.R)(null==s?void 0:s.idx,"REMOVE_PHOTO_BACKGROUND"),{openSnackbar:_}=(0,C.D)(),{translate:h}=(0,v.$G)(),{updateObjectRemovalCanvas:m,transformTargetToUploadFile:g}=useObjectRemovalTarget({target:t}),onSuccess=async e=>{let{resultUrl:t,itemId:n}=e;if((0,j.a)(n))await m(t);else{let e=await (0,E.E)(t);await l({file:e,itemId:n})}o(n),u()},onError=async e=>{let{lastResultFile:t,itemId:n}=e;if((0,j.a)(n)){_({text:h("EDITOR.EDITOR_438"),semantic:"error"}),r(n);return}t&&await l({file:t,itemId:n}),r(n)},removeObject=async e=>{var o,r,l,s;let{initialImageUrl:u,itemId:m}=e;if(!m||(null===(o=(0,H.Q)(m))||void 0===o?void 0:o.isPending)||!p||!m)return;let O=u!==(null===(r=t.imageElement)||void 0===r?void 0:r.src)?await g():void 0,f=null===(l=t.imageElement)||void 0===l?void 0:l.src,{brushCanvasElement:b}=t;if(!b||isEmptyCanvas(b)){_({text:h("EDITOR.EDITOR_426"),semantic:"normal"});return}if(!t.imageElement||!f)return;let x=await transformObjectRemovalCanvasToMaskingImage({originalImageElement:t.imageElement,maskingCanvasElement:b});if(!x)return;d({itemId:m,initialImageSrc:u});let E=Date.now()+(0,G.xT)({min:1,max:1e6});n({requestKey:E,toolType:"OBJECT_REMOVAL",itemId:m}),await a({auth:{userId:null!==(s=null==c?void 0:c.accountId)&&void 0!==s?s:"",paid:p},...!(0,N.pZ)(f)&&{originalImageUrl:f},...(0,N.pZ)(f)&&{originalImageFile:await (0,N.pX)({imageUrl:f})},maskingImageFile:x,success:e=>{var t;let{imageUrl:n}=e;(null===(t=(0,H.Q)(m))||void 0===t?void 0:t.requestKey)===E&&onSuccess({resultUrl:n,itemId:m})},error:()=>{var e;(null===(e=(0,H.Q)(m))||void 0===e?void 0:e.requestKey)===E&&onError({lastResultFile:O,itemId:m})}}).catch(()=>{i(m)})};return{removeObject}},Z=(0,m.RW)(e=>{let{response:t,initialImageUrl:n,itemId:o,brushSize:i}=e,{state:r}=(0,u.useContext)(_),{targetMap:a}=r,{removeObject:l}=useObjectRemoval({target:a.OBJECT_REMOVAL}),{sendActionClickObjectRemovalEraseButtonEvent:c}=useSendActionClickObjectRemovalEraseButtonEvent(),removeObject=()=>l({initialImageUrl:n,itemId:o});return{removeObject:()=>(0,f.Q)(removeObject,c)({image_url:n,brush_size:i}),isPending:t.isPending}},e=>{let{translate:t,removeObject:n,isPending:o}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(h.zx,{size:"M",type:"fill",widthType:"fill",color:"primary",shape:"square",onClick:n,loading:o,children:t("EDITOR.REMAIN_348")})})});var z=n(87140),J=n(41941),W=n(1972);let TipIcon=e=>{let{colorTokenKey:t}=e,{token:n}=(0,l.Fg)(),o=String(n[t]);return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"8",viewBox:"0 0 16 8",fill:"none",children:(0,i.jsx)("path",{d:"M8 0L0 8H16L8 0Z",fill:o})})};function _templateObject(){let e=(0,o._)(["\n  display: inline-flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,o._)(["\n  display: flex;\n  padding: 16px;\n  flex-direction: column;\n  align-items: flex-start;\n  ",";\n  border-radius: ",";\n  background: ",";\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,o._)(["\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  width: 100%;\n  column-gap: 8px;\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,o._)(["\n  grid-column: ",";\n  display: flex;\n  padding: 0 5px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex: 1 0 0;\n"]);return _templateObject3=function(){return e},e}let BubbleContainer=e=>{let{column:t,order:n,children:o}=e;return(0,i.jsxs)(F,{children:[(0,i.jsx)(Q,{$column:t,children:(0,i.jsx)($,{$order:n,children:(0,i.jsx)(TipIcon,{colorTokenKey:"s_color_background_canvas"})})}),(0,i.jsx)(K,{children:o})]})},F=l.ZP.div.withConfig({componentId:"sc-a4ba390e-0"})(_templateObject()),K=l.ZP.div.withConfig({componentId:"sc-a4ba390e-1"})(_templateObject1(),e=>{let{theme:t}=e;return t.mixin.flexRowGap("10px")},e=>{let{theme:t}=e;return t.token.b_size_static_40},e=>{let{theme:t}=e;return t.token.s_color_background_canvas}),Q=l.ZP.div.withConfig({componentId:"sc-a4ba390e-2"})(_templateObject2(),e=>{let{$column:t}=e;return t}),$=l.ZP.div.withConfig({componentId:"sc-a4ba390e-3"})(_templateObject3(),e=>{let{$order:t}=e;return t});var X=n(59608);let DeselectIcon=e=>{let{state:t,color:n}=e,o=(0,l.Fg)(),r=String(o.token[n.lightness[t]]),a=String(o.token[n.medium[t]]),c=String(o.token[n.background[t]]);return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_263_25388)",children:[(0,i.jsx)("path",{d:"M0 8C0 3.58172 3.58172 0 8 0H32C36.4183 0 40 3.58172 40 8V32C40 36.4183 36.4183 40 32 40H8C3.58172 40 0 36.4183 0 32V8Z",fill:r}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H40V40L29.8995 29.8995C32.433 27.366 34 23.866 34 20C34 12.268 27.732 6 20 6C16.134 6 12.634 7.567 10.1005 10.1005L0 0Z",fill:a}),(0,i.jsx)("path",{d:"M15 20.25C15 19.8358 15.3358 19.5 15.75 19.5H24.75C25.1642 19.5 25.5 19.8358 25.5 20.25C25.5 20.6642 25.1642 21 24.75 21H15.75C15.3358 21 15 20.6642 15 20.25Z",fill:a}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 30.5C25.799 30.5 30.5 25.799 30.5 20C30.5 14.201 25.799 9.5 20 9.5C14.201 9.5 9.5 14.201 9.5 20C9.5 25.799 14.201 30.5 20 30.5ZM20 32C26.6274 32 32 26.6274 32 20C32 13.3726 26.6274 8 20 8C13.3726 8 8 13.3726 8 20C8 26.6274 13.3726 32 20 32Z",fill:a})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_263_25388",children:(0,i.jsx)("path",{d:"M0 8C0 3.58172 3.58172 0 8 0H32C36.4183 0 40 3.58172 40 8V32C40 36.4183 36.4183 40 32 40H8C3.58172 40 0 36.4183 0 32V8Z",fill:c})})})]})},SelectIcon=e=>{let{state:t,color:n}=e,o=(0,l.Fg)(),r=String(o.token[n.lightness[t]]),a=String(o.token[n.medium[t]]),c=String(o.token[n.background[t]]);return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_54_129764)",children:[(0,i.jsx)("path",{d:"M0 8C0 3.58172 3.58172 0 8 0H32C36.4183 0 40 3.58172 40 8V32C40 36.4183 36.4183 40 32 40H8C3.58172 40 0 36.4183 0 32V8Z",fill:r}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H40V40L29.8995 29.8995C27.366 32.433 23.866 34 20 34C12.268 34 6 27.732 6 20C6 16.134 7.567 12.634 10.1005 10.1005L0 0Z",fill:a}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 19.5V15.75C21 15.3358 20.6642 15 20.25 15C19.8358 15 19.5 15.3358 19.5 15.75V19.5H15.75C15.3358 19.5 15 19.8358 15 20.25C15 20.6642 15.3358 21 15.75 21H19.5V24.75C19.5 25.1642 19.8358 25.5 20.25 25.5C20.6642 25.5 21 25.1642 21 24.75V21H24.75C25.1642 21 25.5 20.6642 25.5 20.25C25.5 19.8358 25.1642 19.5 24.75 19.5H21Z",fill:c}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 30.5C25.799 30.5 30.5 25.799 30.5 20C30.5 14.201 25.799 9.5 20 9.5C14.201 9.5 9.5 14.201 9.5 20C9.5 25.799 14.201 30.5 20 30.5ZM20 32C26.6274 32 32 26.6274 32 20C32 13.3726 26.6274 8 20 8C13.3726 8 8 13.3726 8 20C8 26.6274 13.3726 32 20 32Z",fill:c})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_54_129764",children:(0,i.jsx)("path",{d:"M0 8C0 3.58172 3.58172 0 8 0H32C36.4183 0 40 3.58172 40 8V32C40 36.4183 36.4183 40 32 40H8C3.58172 40 0 36.4183 0 32V8Z",fill:c})})})]})};var Y=n(17493);let q={enable:"s_color_surface_medium_light",selected:"s_color_brand_primary_light",disable:"s_color_surface_medium_light"},ee={enable:"s_color_surface_lightness",selected:"s_color_brand_primary_background",disable:"s_color_surface_lightness"},et={enable:"s_color_background_default",selected:"s_color_background_default",disable:"s_color_background_default"},en=(0,m.RW)(e=>{let{state:t,iconType:n}=e;return{state:t,iconType:n,objectRemovalColorPalette:{medium:q,lightness:ee,background:et}}},e=>{let{state:t,iconType:n,objectRemovalColorPalette:o}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(Y.H,{value:n,caseBy:{deselect:(0,i.jsx)(DeselectIcon,{state:t,color:o}),select:(0,i.jsx)(SelectIcon,{state:t,color:o})}})})});var eo=n(19128),ei=n(87258),er=n(13851);let useSendActionClickObjectRemovalGuideButtonEvent=()=>{let{emit:e}=(0,O.x)(),{getPhotoExtraEditGACommonPayloadSnapshotValue:t}=(0,g.t)();return{sendActionClickObjectRemovalGuideButtonEvent:n=>{let{image_url:o}=n,{team_idx:i,account_id:r,design_idx:a,plan_type:l,language_setting:c}=t();e("ACTION_CLICK_OBJECT_REMOVAL_GUIDE_BUTTON",{event:"ai_clear_area",log_type:"ai_clear_area",team_idx:i,account_id:r,design_idx:a,image_url:o,action_label:"사용팁",action_depth:"영역지우개",plan_type:l,language_setting:c,action_type:"클릭"})}}},useSendActionCloseObjectRemovalGuidePopoverEvent=()=>{let{emit:e}=(0,O.x)(),{getPhotoExtraEditGACommonPayloadSnapshotValue:t}=(0,g.t)();return{sendActionCloseObjectRemovalGuidePopoverEvent:n=>{let{image_url:o,isCloseOnClickOutside:i}=n,{team_idx:r,account_id:a,design_idx:l,plan_type:c,language_setting:s}=t();e("ACTION_VIEW_OBJECT_REMOVAL_GUIDE_POPOVER",{event:"ai_clear_area",log_type:"ai_clear_area",team_idx:r,account_id:a,design_idx:l,image_url:o,action_label:"사용팁팝업",action_depth:"영역지우개",plan_type:c,language_setting:s,action_type:"닫힘",etc1:i?"바깥영역":"버튼"})}}},useSendActionViewObjectRemovalGuidePopoverEvent=()=>{let{emit:e}=(0,O.x)(),{getPhotoExtraEditGACommonPayloadSnapshotValue:t}=(0,g.t)();return{sendActionViewObjectRemovalGuidePopoverEvent:n=>{let{image_url:o}=n,{team_idx:i,account_id:r,design_idx:a,plan_type:l,language_setting:c}=t();e("ACTION_VIEW_OBJECT_REMOVAL_GUIDE_POPOVER",{event:"ai_clear_area",log_type:"ai_clear_area",team_idx:i,account_id:r,design_idx:a,image_url:o,action_label:"사용팁팝업",action_depth:"영역지우개",plan_type:l,language_setting:c,action_type:"뷰"})}}};var ea=n(1409);function ObjectRemovalGuidePopoverTrigger_templateObject(){let e=(0,o._)(["\n  width: 244px;\n  height: ","px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  padding: 16px;\n  border-radius: 16px;\n  background: ",";\n  box-shadow: 0 6px 20px 0 rgba(11, 60, 65, 0.2);\n  gap: 12px;\n  // 현재 ds popover 에서는 대각선 방향이 대응되지 않아 사용처에서 대응하도록 함\n  transform: translateY(4px);\n  margin-bottom: calc(","px * -1);\n"]);return ObjectRemovalGuidePopoverTrigger_templateObject=function(){return e},e}function ObjectRemovalGuidePopoverTrigger_templateObject1(){let e=(0,o._)(["\n  width: 212px;\n  height: 140px;\n  border-radius: 8px;\n  background: lightgray 50% / cover no-repeat;\n"]);return ObjectRemovalGuidePopoverTrigger_templateObject1=function(){return e},e}function ObjectRemovalGuidePopoverTrigger_templateObject2(){let e=(0,o._)(["\n  color: ",";\n  font: ",";\n"]);return ObjectRemovalGuidePopoverTrigger_templateObject2=function(){return e},e}let GuideContent=e=>{let{onClickClosePopoverButton:t,onMountGuideContent:n}=e,{translate:o}=(0,v.$G)();return(0,u.useEffect)(()=>{n()},[]),(0,i.jsxs)(ec,{children:[(0,i.jsx)(es,{src:"".concat(er.S,"2_0/image/photoextraedit/object_removal_guide.gif"),alt:"영역 지우개 가이드"}),(0,i.jsx)(ed,{children:o("EDITOR.EDITOR_755")}),(0,i.jsx)(h.zx,{size:"XXS",type:"fillLight",color:"neutralLight",onClick:t,children:o("SHARED.REMAIN_22")})]})},el=(0,m.RW)(e=>{let{initialImageSrc:t}=e,[n,o]=(0,u.useState)(()=>(0,ea.wz)("dont_show_object_removal_guide_popover")),{sendActionClickObjectRemovalGuideButtonEvent:i}=useSendActionClickObjectRemovalGuideButtonEvent(),{sendActionViewObjectRemovalGuidePopoverEvent:r}=useSendActionViewObjectRemovalGuidePopoverEvent(),{sendActionCloseObjectRemovalGuidePopoverEvent:a}=useSendActionCloseObjectRemovalGuidePopoverEvent(),setLocalStorageIfNecessary=()=>{(0,ea.wz)("dont_show_object_removal_guide_popover")&&(0,ea.kQ)({key:"dont_show_object_removal_guide_popover",value:"true",expiresParams:{day:30}})},setIsOpenedGuidePopup=e=>{o(e),e||setLocalStorageIfNecessary()},onClickClosePopoverButton=()=>{setIsOpenedGuidePopup(!1)},onClickOpenPopoverButton=()=>{setIsOpenedGuidePopup(!0)};return{isOpenedGuidePopup:n,setIsOpenedGuidePopup:e=>(0,f.Q)(()=>setIsOpenedGuidePopup(e),()=>{e||a({image_url:t,isCloseOnClickOutside:!0})})(void 0),onMountGuideContent:()=>r({image_url:t}),onClickClosePopoverButton:()=>(0,f.Q)(onClickClosePopoverButton,()=>{a({image_url:t,isCloseOnClickOutside:!1})})(void 0),onClickOpenPopoverButton:()=>(0,f.Q)(onClickOpenPopoverButton,()=>{i({image_url:t})})(void 0)}},e=>{let{translate:t,isOpenedGuidePopup:n,setIsOpenedGuidePopup:o,onClickOpenPopoverButton:r,onMountGuideContent:a,onClickClosePopoverButton:l}=e;return(0,i.jsxs)(ei.J,{isOpen:n,setIsOpen:o,placement:"right-end",offset:6,children:[(0,i.jsx)(ei.J.Anchor,{children:(0,i.jsx)(eo.A,{text:t("EDITOR.EDITOR_756"),underline:"always",onClick:r})}),(0,i.jsx)(ei.J.Content,{children:(0,i.jsx)(GuideContent,{onClickClosePopoverButton:l,onMountGuideContent:a})})]})}),ec=l.ZP.div.withConfig({componentId:"sc-eddde137-0"})(ObjectRemovalGuidePopoverTrigger_templateObject(),260,e=>{let{theme:t}=e;return t.token.s_color_background_elevation01},260),es=l.ZP.img.withConfig({componentId:"sc-eddde137-1"})(ObjectRemovalGuidePopoverTrigger_templateObject1()),ed=l.ZP.div.withConfig({componentId:"sc-eddde137-2"})(ObjectRemovalGuidePopoverTrigger_templateObject2(),e=>{let{theme:t}=e;return t.token.s_color_contents_default},e=>{let{theme:t}=e;return t.token.s_typography_body_M}),useSendActionClickObjectRemovalAreaSelectionButtonEvent=()=>{let{emit:e}=(0,O.x)(),{getPhotoExtraEditGACommonPayloadSnapshotValue:t}=(0,g.t)();return{sendActionClickObjectRemovalAreaSelectionButtonEvent:n=>{let{image_url:o,button_name:i}=n,{team_idx:r,account_id:a,design_idx:l,plan_type:c,language_setting:s}=t();e("ACTION_CLICK_OBJECT_REMOVAL_TOOL_BUTTON",{event:"ai_clear_area",log_type:"ai_clear_area",team_idx:r,account_id:a,design_idx:l,image_url:o,action_label:i,action_depth:"영역지우개",plan_type:c,language_setting:s,action_type:"클릭"})}}};function ObjectRemovalControllerContent_templateObject(){let e=(0,o._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: ",";\n  flex: 1 0 0;\n"]);return ObjectRemovalControllerContent_templateObject=function(){return e},e}function ObjectRemovalControllerContent_templateObject1(){let e=(0,o._)(["\n  display: flex;\n  gap: ",";\n  flex-shrink: initial;\n"]);return ObjectRemovalControllerContent_templateObject1=function(){return e},e}function ObjectRemovalControllerContent_templateObject2(){let e=(0,o._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: ",";\n  align-self: stretch;\n"]);return ObjectRemovalControllerContent_templateObject2=function(){return e},e}function ObjectRemovalControllerContent_templateObject3(){let e=(0,o._)(["\n  display: flex;\n  align-items: flex-start;\n  gap: ",";\n  align-self: stretch;\n"]);return ObjectRemovalControllerContent_templateObject3=function(){return e},e}function _templateObject4(){let e=(0,o._)(["\n  width: 280px;\n"]);return _templateObject4=function(){return e},e}let eu=(0,m.RW)(e=>{let{changeBrushType:t,changeBrushSize:n,brushType:o,brushSize:i,response:r,initialImageSrc:a}=e,{sendActionClickObjectRemovalAreaSelectionButtonEvent:l}=useSendActionClickObjectRemovalAreaSelectionButtonEvent(),onClickSelectionButton=()=>t("DRAW"),onClickDeselectionButton=()=>t("ERASE");return{onClickSelectionButton:()=>(0,f.Q)(onClickSelectionButton,()=>l({image_url:a,button_name:"영역선택"}))(void 0),onClickDeselectionButton:()=>(0,f.Q)(onClickDeselectionButton,()=>l({image_url:a,button_name:"영역해제"}))(void 0),changeBrushSize:n,brushType:o,brushSize:i,isPending:r.isPending,initialImageSrc:a}},e=>{let{translate:t,onClickSelectionButton:n,onClickDeselectionButton:o,brushType:r,changeBrushSize:a,brushSize:l,isPending:c,initialImageSrc:s}=e;return(0,i.jsxs)(ep,{children:[(0,i.jsx)(z.U,{showIcon:!1,showCloseButton:!1,children:(0,i.jsxs)(e_,{children:[(0,i.jsx)(W.i,{title:"EDITOR.EDITOR_754"}),(0,i.jsx)(el,{initialImageSrc:s})]})}),(0,i.jsxs)(eh,{children:[(0,i.jsxs)(em,{children:[(0,i.jsx)(X.I,{padding:"S",state:c?"disable":"DRAW"===r?"selected":"enable",mainText:t("EDITOR.EDITOR_364"),GraphicIcon:(0,i.jsx)(en,{state:c?"disable":"DRAW"===r?"selected":"enable",iconType:"select"}),onClick:n}),(0,i.jsx)(X.I,{padding:"S",state:c?"disable":"ERASE"===r?"selected":"enable",mainText:t("EDITOR.EDITOR_365"),GraphicIcon:(0,i.jsx)(en,{state:c?"disable":"ERASE"===r?"selected":"enable",iconType:"deselect"}),onClick:o})]}),(0,i.jsx)(BubbleContainer,{column:2,order:"DRAW"===r?1:2,children:(0,i.jsx)(eg,{children:(0,i.jsx)(J.G,{disabled:c,label:t("EDITOR.REMAIN_350"),onChangeSlider:a,value:l,min:1,max:100,unit:"percent"})})})]})]})}),ep=l.ZP.div.withConfig({componentId:"sc-49927b51-0"})(ObjectRemovalControllerContent_templateObject(),e=>{let{theme:t}=e;return t.token.b_size_static_70}),e_=l.ZP.div.withConfig({componentId:"sc-49927b51-1"})(ObjectRemovalControllerContent_templateObject1(),e=>{let{theme:t}=e;return t.token.c_banner_spacing_itemGap_contents_M}),eh=l.ZP.div.withConfig({componentId:"sc-49927b51-2"})(ObjectRemovalControllerContent_templateObject2(),e=>{let{theme:t}=e;return t.token.b_size_static_40}),em=l.ZP.div.withConfig({componentId:"sc-49927b51-3"})(ObjectRemovalControllerContent_templateObject3(),e=>{let{theme:t}=e;return t.token.b_size_static_40}),eg=l.ZP.div.withConfig({componentId:"sc-49927b51-4"})(_templateObject4());function ControllerPanel_templateObject(){let e=(0,o._)(["\n  display: flex;\n  width: 352px;\n  flex-direction: column;\n  align-items: flex-start;\n  border-radius: 16px;\n  box-shadow: ",";\n  background-color: ",";\n  overflow: hidden;\n  margin: 16px;\n"]);return ControllerPanel_templateObject=function(){return e},e}function ControllerPanel_templateObject1(){let e=(0,o._)(["\n  display: flex;\n  padding: 20px;\n  align-items: flex-start;\n  flex: 1 0 0;\n"]);return ControllerPanel_templateObject1=function(){return e},e}function ControllerPanel_templateObject2(){let e=(0,o._)(["\n  display: flex;\n  padding: 16px 20px;\n  flex-direction: column;\n  align-items: flex-start;\n  ",";\n  align-self: stretch;\n  border-top: 1px solid ",";\n  background: ",";\n"]);return ControllerPanel_templateObject2=function(){return e},e}let eO=(0,m.RW)(e=>e,e=>{let{selectedToolInfo:t,changeBrushType:n,brushType:o,changeBrushSize:r,brushSize:a,response:l,initialImageUrl:c,itemId:s}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(ef,{children:[(0,i.jsx)(eb,{children:(0,i.jsx)(Y.H,{caseBy:{BACKGROUND_REMOVAL:(0,i.jsx)("div",{children:"배경 제거"}),OBJECT_REMOVAL:(0,i.jsx)(eu,{changeBrushType:n,changeBrushSize:r,brushType:o,brushSize:a,response:l,initialImageSrc:c}),UPSCALE:(0,i.jsx)("div",{children:"업스케일"})},value:t.toolType,defaultComponent:(0,i.jsx)(i.Fragment,{})})}),(0,i.jsx)(ex,{children:(0,i.jsx)(Y.H,{caseBy:{BACKGROUND_REMOVAL:(0,i.jsx)("div",{children:"배경 제거"}),OBJECT_REMOVAL:(0,i.jsx)(Z,{response:l,initialImageUrl:c,itemId:s,brushSize:a}),UPSCALE:(0,i.jsx)("div",{children:"업스케일"})},value:t.toolType,defaultComponent:(0,i.jsx)(i.Fragment,{})})})]})})}),ef=l.ZP.div.withConfig({componentId:"sc-c719001c-0"})(ControllerPanel_templateObject(),e=>{let{theme:t}=e;return t.token.s_shadow_popover},e=>{let{theme:t}=e;return t.token.s_color_background_elevation01}),eb=l.ZP.div.withConfig({componentId:"sc-c719001c-1"})(ControllerPanel_templateObject1()),ex=l.ZP.div.withConfig({componentId:"sc-c719001c-2"})(ControllerPanel_templateObject2(),e=>{let{theme:t}=e;return t.mixin.flexRowGap("10px")},e=>{let{theme:t}=e;return t.token.s_color_divider_default},e=>{let{theme:t}=e;return t.token.s_color_background_default});var eE=n(69121),ev=n(25265);let useSendActionClickObjectRemovalBackButtonEvent=()=>{let{emit:e}=(0,O.x)(),{getPhotoExtraEditGACommonPayloadSnapshotValue:t}=(0,g.t)();return{sendActionClickObjectRemovalBackButtonEvent:n=>{let{image_url:o,button_name:i}=n,{team_idx:r,account_id:a,design_idx:l,plan_type:c,language_setting:s}=t();e("ACTION_CLICK_OBJECT_REMOVAL_BACK_BUTTON",{event:"ai_clear_area",log_type:"ai_clear_area",team_idx:r,account_id:a,design_idx:l,image_url:o,action_label:i,action_depth:"영역지우개",plan_type:c,language_setting:s,action_type:"클릭"})}}},useSendActionClickObjectRemovalHeaderButtonEvent=()=>{let{emit:e}=(0,O.x)(),{getPhotoExtraEditGACommonPayloadSnapshotValue:t}=(0,g.t)();return{sendActionClickObjectRemovalHeaderButtonEvent:n=>{let{image_url:o,button_name:i}=n,{team_idx:r,account_id:a,design_idx:l,plan_type:c,language_setting:s}=t();e("ACTION_CLICK_OBJECT_REMOVAL_HEADER_BUTTON",{event:"ai_clear_area",log_type:"ai_clear_area",team_idx:r,account_id:a,design_idx:l,image_url:o,action_label:i,action_depth:"영역지우개",plan_type:c,language_setting:s,action_type:"클릭"})}}},useSendActionClickObjectRemovalUndoRedoButtonEvent=()=>{let{emit:e}=(0,O.x)(),{getPhotoExtraEditGACommonPayloadSnapshotValue:t}=(0,g.t)();return{sendActionClickObjectRemovalUndoRedoButtonEvent:n=>{let{image_url:o,button_name:i}=n,{team_idx:r,account_id:a,design_idx:l,plan_type:c,language_setting:s}=t();e("ACTION_CLICK_OBJECT_REMOVAL_UNDO_REDO_BUTTON",{event:"ai_clear_area",log_type:"ai_clear_area",team_idx:r,account_id:a,design_idx:l,image_url:o,action_label:i,action_depth:"영역지우개",plan_type:c,language_setting:s,action_type:"클릭"})}}};var eC=n(1657),ej=n(72608),eR=n(57455);function PhotoExtraEditModal_templateObject(){let e=(0,o._)(["\n  display: flex;\n  padding: 0 40px 20px 40px;\n  flex-direction: column;\n  align-items: center;\n  gap: 24px;\n  flex: 1 0 0;\n"]);return PhotoExtraEditModal_templateObject=function(){return e},e}function PhotoExtraEditModal_templateObject1(){let e=(0,o._)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 12px;\n  align-self: stretch;\n"]);return PhotoExtraEditModal_templateObject1=function(){return e},e}function PhotoExtraEditModal_templateObject2(){let e=(0,o._)(["\n  align-self: stretch;\n  color: ",";\n  text-align: center;\n  font: ",";\n  white-space: pre-wrap;\n"]);return PhotoExtraEditModal_templateObject2=function(){return e},e}function PhotoExtraEditModal_templateObject3(){let e=(0,o._)(["\n  align-self: stretch;\n  color: ",";\n  text-align: center;\n  font: ",";\n  white-space: pre-wrap;\n"]);return PhotoExtraEditModal_templateObject3=function(){return e},e}let eI=(0,m.RW)(e=>e,e=>{let{title:t,subTitle:n,onClose:o,bottomActionBar:r}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(eR.u,{show:!0,width:"480px",closeOnClickBackground:!0,closeModal:o,children:[(0,i.jsx)(eR.u.Header,{onClickClose:o}),(0,i.jsx)(ew,{children:(0,i.jsxs)(eP,{children:[(0,i.jsx)(eT,{children:t}),(0,i.jsx)(ey,{children:n})]})}),r&&(0,i.jsx)(eR.u.BottomActionBar,{children:r})]})})}),ew=(0,l.ZP)(eR.u.Body).withConfig({componentId:"sc-4040b0e8-0"})(PhotoExtraEditModal_templateObject()),eP=l.ZP.div.withConfig({componentId:"sc-4040b0e8-1"})(PhotoExtraEditModal_templateObject1()),eT=l.ZP.div.withConfig({componentId:"sc-4040b0e8-2"})(PhotoExtraEditModal_templateObject2(),e=>{let{theme:t}=e;return t.token.s_color_contents_default},e=>{let{theme:t}=e;return t.token.s_typography_title_L}),ey=l.ZP.div.withConfig({componentId:"sc-4040b0e8-3"})(PhotoExtraEditModal_templateObject3(),e=>{let{theme:t}=e;return t.token.s_color_contents_sub},e=>{let{theme:t}=e;return t.token.s_typography_body_M});function PhotoExtraEditHeaderBar_templateObject(){let e=(0,o._)(["\n  display: flex;\n  background: ",";\n  height: 64px;\n  padding: 0 16px;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n"]);return PhotoExtraEditHeaderBar_templateObject=function(){return e},e}function PhotoExtraEditHeaderBar_templateObject1(){let e=(0,o._)(["\n  display: flex;\n  align-items: center;\n  gap: ",";\n"]);return PhotoExtraEditHeaderBar_templateObject1=function(){return e},e}function PhotoExtraEditHeaderBar_templateObject2(){let e=(0,o._)(["\n  height: 24px;\n"]);return PhotoExtraEditHeaderBar_templateObject2=function(){return e},e}function PhotoExtraEditHeaderBar_templateObject3(){let e=(0,o._)(["\n  display: flex;\n  align-items: center;\n  gap: 4px;\n"]);return PhotoExtraEditHeaderBar_templateObject3=function(){return e},e}function PhotoExtraEditHeaderBar_templateObject4(){let e=(0,o._)([""]);return PhotoExtraEditHeaderBar_templateObject4=function(){return e},e}let ek=(0,m.RW)(e=>{let{response:t,changeIsShowOriginImage:n,selectedTool:o,initialImageUrl:r,onCloseEditor:a,itemId:l}=e,{state:c}=(0,u.useContext)(_),{targetMap:s}=c,{initObjectRemovalTarget:d}=useObjectRemovalTarget({target:s.OBJECT_REMOVAL}),p=s.OBJECT_REMOVAL,{openPopup:m,closePopup:g}=(0,ej.B)(),{translate:O}=(0,v.$G)(),{applyPhotoExtraEditToolToPhotoItem:b,waitOnMainEditor:x}=useObjectRemovalWithEditorCommand(),{redo:E,undo:C,isEmptyUndoHistory:j,isEmptyRedoHistory:R}=usePhotoExtraEditorHistory(),{onCancelRequest:I}=(0,H.C)(),{sendActionClickObjectRemovalBackButtonEvent:w}=useSendActionClickObjectRemovalBackButtonEvent(),{sendActionClickObjectRemovalHeaderButtonEvent:P}=useSendActionClickObjectRemovalHeaderButtonEvent(),{sendActionClickObjectRemovalUndoRedoButtonEvent:y}=useSendActionClickObjectRemovalUndoRedoButtonEvent(),k=!j&&!t.isPending,A=!R&&!t.isPending,onMouseDownShowOriginImageButton=()=>{n(!0)},onClickInitButton=()=>{(0,T.EQ)(o).with("OBJECT_REMOVAL",()=>{m({component:eI,props:{onClose:()=>g(eC.U.INIT_PHOTO_EXTRA_EDITOR),title:O("EDITOR.EDITOR_435"),subTitle:O("EDITOR.EDITOR_436"),bottomActionBar:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.zx,{onClick:()=>g(eC.U.INIT_PHOTO_EXTRA_EDITOR),type:"fillLight",color:"neutralDeep",widthType:"fixed",width:"160px",children:O("EDITOR.EDITOR_132")}),(0,i.jsx)(h.zx,{onClick:()=>{d(r),g(eC.U.INIT_PHOTO_EXTRA_EDITOR)},widthType:"fixed",width:"160px",children:O("SHARED.POPUP.TOOL_WINDOW.RECENT_KEYWORD.ACTION.RESET")})]})},id:eC.U.INIT_PHOTO_EXTRA_EDITOR})})},saveAndCloseEditor=async()=>{let{imageElement:e}=p;if(t.isPending){await x(l),a();return}if(!e||e.src===r){a();return}await b(l),a()},onClickReturnButton=()=>{let onClickLeaveButton=()=>{I(l),a(),g(eC.U.LEAVE_PHOTO_EXTRA_EDITOR)},onClickSaveAndCloseButton=()=>{saveAndCloseEditor(),g(eC.U.LEAVE_PHOTO_EXTRA_EDITOR)};m({component:eI,props:{onClose:()=>g(eC.U.LEAVE_PHOTO_EXTRA_EDITOR),title:O("EDITOR.EDITOR_432"),subTitle:O("EDITOR.EDITOR_433"),bottomActionBar:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.zx,{onClick:()=>(0,f.Q)(onClickLeaveButton,w)({image_url:r,button_name:"적용하지않고나가기"}),type:"fillLight",color:"neutralDeep",widthType:"fixed",width:"160px",children:O("EDITOR.EDITOR_434")}),(0,i.jsx)(h.zx,{onClick:()=>(0,f.Q)(onClickSaveAndCloseButton,w)({image_url:r,button_name:"적용하기"}),widthType:"fixed",width:"160px",children:O("EDITOR.LEFT_PANEL.SEARCH_TOOL.ACTION.APPLY")})]})},id:eC.U.LEAVE_PHOTO_EXTRA_EDITOR})},onClickEditCompleteButton=()=>{saveAndCloseEditor()};return{redo:()=>(0,f.Q)(E,y)({image_url:r,button_name:"리두"}),undo:()=>(0,f.Q)(C,y)({image_url:r,button_name:"언두"}),canUndo:k,canRedo:A,onMouseDownShowOriginImageButton:()=>(0,f.Q)(onMouseDownShowOriginImageButton,P)({image_url:r,button_name:"원본이미지보기"}),onMouseUpShowOriginImageButton:()=>{n(!1)},onMouseLeaveShowOriginImageButton:()=>{n(!1)},onClickInitButton:()=>(0,f.Q)(onClickInitButton,P)({button_name:"초기화",image_url:r}),onClickReturnButton:()=>(0,f.Q)(onClickReturnButton,P)({image_url:r,button_name:"돌아가기"}),onClickEditCompleteButton:()=>(0,f.Q)(onClickEditCompleteButton,P)({image_url:r,button_name:"편집완료"}),response:t}},e=>{let{translate:t,redo:n,undo:o,canUndo:r,canRedo:a,onMouseDownShowOriginImageButton:l,onMouseUpShowOriginImageButton:c,onMouseLeaveShowOriginImageButton:s,onClickInitButton:d,onClickReturnButton:u,onClickEditCompleteButton:p,response:_}=e;return(0,i.jsxs)(eA,{children:[(0,i.jsxs)(eB,{children:[(0,i.jsx)(h.zx,{leftIcon:"chevron_left",type:"ghost",color:"neutralDeep",onClick:u,children:t("EDITOR.REMAIN_416")}),(0,i.jsx)(eD,{children:(0,i.jsx)(eE.x,{paddingSize:"none",paddingPosition:"all",borderWidth:"thinest"})}),(0,i.jsxs)(eS,{children:[(0,i.jsx)(ev.h,{onClick:o,iconName:"undo",type:"ghost",size:"M",color:"neutralDeep",disabled:!r}),(0,i.jsx)(ev.h,{onClick:n,iconName:"redo",type:"ghost",size:"M",color:"neutralDeep",disabled:!a}),(0,i.jsx)(h.zx,{type:"ghost",color:"neutralDeep",onClick:d,disabled:_.isPending,children:t("SHARED.POPUP.TOOL_WINDOW.RECENT_KEYWORD.ACTION.RESET")}),(0,i.jsx)(eM,{onMouseDown:l,onMouseUp:c,onMouseLeave:s,children:(0,i.jsx)(h.zx,{type:"ghost",color:"neutralDeep",disabled:_.isPending,children:t("EDITOR.REMAIN_354")})})]})]}),(0,i.jsx)(h.zx,{leftIcon:"check_2px",type:"fill",onClick:p,children:t("EDITOR.EDITOR_437")})]})}),eA=l.ZP.div.withConfig({componentId:"sc-8e7e80d5-0"})(PhotoExtraEditHeaderBar_templateObject(),e=>{let{theme:t}=e;return t.token.s_color_background_default}),eB=l.ZP.div.withConfig({componentId:"sc-8e7e80d5-1"})(PhotoExtraEditHeaderBar_templateObject1(),e=>{let{theme:t}=e;return t.token.b_size_static_70}),eD=l.ZP.div.withConfig({componentId:"sc-8e7e80d5-2"})(PhotoExtraEditHeaderBar_templateObject2()),eS=l.ZP.div.withConfig({componentId:"sc-8e7e80d5-3"})(PhotoExtraEditHeaderBar_templateObject3()),eM=l.ZP.div.withConfig({componentId:"sc-8e7e80d5-4"})(PhotoExtraEditHeaderBar_templateObject4());var eL=n(82274),eV=n(49468),eH=n(30115);let drawBrush=e=>{let{point:t,brushType:n,brushCanvasCtx:o,brushSize:i,lastPoint:r}=e;if(o){if("ERASE"===n&&(o.globalCompositeOperation="destination-out"),o.beginPath(),o.lineWidth=i,o.lineCap="round",o.strokeStyle="#40BF8B",r){let{x:e,y:t}=r;o.moveTo(e,t)}o.lineTo(t.x,t.y),o.stroke(),o.globalCompositeOperation="source-over"}},useMouseEvents=e=>{let{changeBrushPosition:t,brushCanvasRef:n,editAreaRef:o,imageElementRef:i,scale:r,brushSize:a,brushType:l,containerSize:c,scrollRef:s}=e,{saveNewHistory:d}=usePhotoExtraEditorHistory(),p=(0,u.useRef)(),_=(0,u.useRef)(!1),h=(0,u.useRef)(),transformMousePointToCanvasPoint=e=>{if(!n.current||!o.current)return null;let{clientX:t,clientY:i}=e,{scrollLeft:a,scrollTop:l}=o.current,{left:c,top:s}=n.current.getBoundingClientRect();return{x:(t-c-a)/r,y:(i-s+l)/r}},startDrawing=e=>{var t;let o=null===(t=n.current)||void 0===t?void 0:t.getContext("2d");e&&o&&n.current&&i.current&&(p.current={imageInfo:{url:i.current.src,width:i.current.width,height:i.current.height},canvasInfo:{brushCanvasDataUrl:n.current.toDataURL("image/png")}},_.current=!0,h.current=e,drawBrush({point:e,brushType:l,brushSize:a,brushCanvasCtx:o,lastPoint:h.current}))},drawing=e=>{var t;let o=null===(t=n.current)||void 0===t?void 0:t.getContext("2d");_.current&&e&&o&&(drawBrush({point:e,brushType:l,brushSize:a,brushCanvasCtx:o,lastPoint:h.current}),h.current=e)},endDrawing=()=>{p.current&&n.current&&i.current&&(d({toolType:"OBJECT_REMOVAL",redoInfo:{imageInfo:{url:i.current.src,width:i.current.width,height:i.current.height},canvasInfo:{brushCanvasDataUrl:n.current.toDataURL("image/png")}},undoInfo:p.current}),p.current=void 0,_.current=!1,h.current=void 0)};return{onMouseDown:e=>{let t=transformMousePointToCanvasPoint(e);startDrawing(t)},onMouseUp:()=>{endDrawing()},onMouseMove:e=>{var n,o,i,r;let{pageX:a,pageY:l}=e,d=a-c.left+(null!==(i=null===(n=s.current)||void 0===n?void 0:n.scrollLeft)&&void 0!==i?i:0),u=l-c.top+(null!==(r=null===(o=s.current)||void 0===o?void 0:o.scrollTop)&&void 0!==r?r:0);t({x:d,y:u});let p=transformMousePointToCanvasPoint(e);drawing(p)},onMouseLeave:()=>{endDrawing()}}};function ObjectRemovalCanvas_templateObject(){let e=(0,o._)([""]);return ObjectRemovalCanvas_templateObject=function(){return e},e}function ObjectRemovalCanvas_templateObject1(){let e=(0,o._)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  user-select: none;\n  cursor: none;\n"]);return ObjectRemovalCanvas_templateObject1=function(){return e},e}function ObjectRemovalCanvas_templateObject2(){let e=(0,o._)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n"]);return ObjectRemovalCanvas_templateObject2=function(){return e},e}function ObjectRemovalCanvas_templateObject3(){let e=(0,o._)(["\n  display: block;\n"]);return ObjectRemovalCanvas_templateObject3=function(){return e},e}function ObjectRemovalCanvas_templateObject4(){let e=(0,o._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n"]);return ObjectRemovalCanvas_templateObject4=function(){return e},e}function _templateObject5(){let e=(0,o._)(["\n  cursor: pointer;\n"]);return _templateObject5=function(){return e},e}function _templateObject6(){let e=(0,o._)(["\n  transform-origin: 0 0;\n  opacity: 0.4;\n  display: block;\n"]);return _templateObject6=function(){return e},e}function _templateObject7(){let e=(0,o._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  justify-content: center;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  gap: 16px;\n"]);return _templateObject7=function(){return e},e}let eU=(0,m.RW)(e=>{let{initialImageInfo:t,brushType:n,brushSize:o,changeBrushPosition:i,scale:r,isShowOriginImage:a,containerSize:l,scrollRef:c,isShowLoading:s,itemId:d}=e,{dispatch:p}=(0,u.useContext)(_),h=(0,u.useRef)(null),m=(0,u.useRef)(null),g=(0,u.useRef)(null),{onCancelRequest:O}=(0,H.C)(),{onMouseDown:f,onMouseUp:b,onMouseMove:x,onMouseLeave:E}=useMouseEvents({changeBrushPosition:i,brushCanvasRef:m,editAreaRef:h,imageElementRef:g,scale:r,brushSize:o,brushType:n,containerSize:l,scrollRef:c});return(0,u.useEffect)(()=>{(m.current||g.current)&&p({type:"SET_OBJECT_REMOVAL_TARGET",objectRemovalTarget:{brushCanvasElement:m.current,imageElement:g.current}})},[p,m,g]),{initialImageInfo:t,editAreaRef:h,brushCanvasRef:m,scale:r,onMouseDown:f,onMouseUp:b,onMouseMove:x,editAreaWidth:t.width*r,editAreaHeight:t.height*r,imageElementRef:g,isShowOriginImage:a,isShowLoading:s,onClickCancelButton:()=>{O(d)},onMouseLeave:E}},e=>{let{initialImageInfo:t,editAreaRef:n,brushCanvasRef:o,scale:r,onMouseDown:a,onMouseUp:l,onMouseMove:c,editAreaWidth:s,editAreaHeight:d,imageElementRef:u,isShowOriginImage:p,isShowLoading:_,translate:m,onClickCancelButton:g,onMouseLeave:O}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(eG,{ref:n,$width:s,$height:d,children:(0,i.jsxs)(eZ,{children:[(0,i.jsx)(eN,{$width:s,$height:d,children:(0,i.jsx)(ez,{ref:u,width:s,height:d,draggable:!1,alt:"편집할 이미지",src:t.url})}),p&&(0,i.jsx)(eJ,{$width:s,$height:d,children:(0,i.jsx)(ez,{width:s,height:d,draggable:!1,alt:"초기 이미지",src:t.url})}),(0,i.jsx)(eJ,{$width:s,$height:d,children:(0,i.jsx)(eF,{width:t.width,height:t.height,ref:o,$scale:r,onMouseDown:a,onMouseMove:c,onMouseUp:l,onMouseLeave:O})}),_&&(0,i.jsxs)(eW,{$width:s,$height:d,children:[(0,i.jsx)(eV.J,{color:"black",strength:"medium"}),(0,i.jsxs)(eK,{children:[(0,i.jsx)(eH.$,{color:"white",size:"M"}),(0,i.jsx)(h.zx,{size:"S",type:"ghost",color:"white",onClick:g,children:m("SHARED.POPUP.POPUP.NAMING_POPUP.ACTION.CANCEL")})]})]})]})})})}),eN=l.ZP.div.attrs(e=>{let{$width:t,$height:n}=e;return{style:{width:"".concat(t,"px"),height:"".concat(n,"px")}}}).withConfig({componentId:"sc-154f3510-0"})(ObjectRemovalCanvas_templateObject()),eG=(0,l.ZP)(eN).withConfig({componentId:"sc-154f3510-1"})(ObjectRemovalCanvas_templateObject1()),eZ=l.ZP.div.withConfig({componentId:"sc-154f3510-2"})(ObjectRemovalCanvas_templateObject2()),ez=l.ZP.img.withConfig({componentId:"sc-154f3510-3"})(ObjectRemovalCanvas_templateObject3()),eJ=(0,l.ZP)(eN).withConfig({componentId:"sc-154f3510-4"})(ObjectRemovalCanvas_templateObject4()),eW=(0,l.ZP)(eJ).withConfig({componentId:"sc-154f3510-5"})(_templateObject5()),eF=l.ZP.canvas.attrs(e=>{let{$scale:t}=e;return{style:{transform:"scale(".concat(t,")")}}}).withConfig({componentId:"sc-154f3510-6"})(_templateObject6()),eK=l.ZP.div.withConfig({componentId:"sc-154f3510-7"})(_templateObject7());function PhotoExtraEditorCanvas_templateObject(){let e=(0,o._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: auto;\n"]);return PhotoExtraEditorCanvas_templateObject=function(){return e},e}function PhotoExtraEditorCanvas_templateObject1(){let e=(0,o._)(["\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  display: inline-flex;\n  padding: 8px 16px;\n  align-items: center;\n  border-radius: 24px;\n  background: ",";\n  box-shadow: 4px 4px 12px 0 rgba(0, 0, 0, 0.1);\n"]);return PhotoExtraEditorCanvas_templateObject1=function(){return e},e}function PhotoExtraEditorCanvas_templateObject2(){let e=(0,o._)(["\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  align-self: stretch;\n"]);return PhotoExtraEditorCanvas_templateObject2=function(){return e},e}function PhotoExtraEditorCanvas_templateObject3(){let e=(0,o._)(["\n  width: 65px;\n"]);return PhotoExtraEditorCanvas_templateObject3=function(){return e},e}function PhotoExtraEditorCanvas_templateObject4(){let e=(0,o._)(["\n  position: absolute;\n  transform: translate(-50%, -50%);\n  border: 3px solid #ffffff;\n  box-shadow: rgb(0 0 0 / 32%) 0 0 4px;\n  border-radius: 50%;\n  pointer-events: none;\n  box-sizing: content-box;\n"]);return PhotoExtraEditorCanvas_templateObject4=function(){return e},e}let eQ=(0,m.RW)(e=>{let{selectedToolInfo:t,initialImageInfo:n,brushSize:o,brushType:i,brushPosition:r,containerSize:a,response:l,isShowOriginImage:c,changeBrushPosition:s,itemId:d}=e,[p,_]=(0,u.useState)(1),h=a.width-80,m=a.height-80,g=(0,u.useRef)(null);(0,u.useLayoutEffect)(()=>{if(!h||!m)return;let e=h/m,t=n.width/n.height,o=(e>1||t>1)&&e>t||(e<1||t<1)&&e>t?m/n.height:h/n.width;_(o)},[m,h,n.height,n.width]);let O=l.isPending;return{selectedToolInfo:t,scale:p,initialImageInfo:n,brushSize:o,brushType:i,brushPosition:r,zoomIn:()=>{_(e=>Math.min(e+.1,5))},zoomOut:()=>{_(e=>Math.max(e-.1,.5))},containerSize:a,isShowOriginImage:c,changeBrushPosition:s,scrollRef:g,isShowLoading:O,itemId:d}},e=>{let{selectedToolInfo:t,scale:n,initialImageInfo:o,brushSize:r,brushType:a,zoomIn:l,zoomOut:c,isShowOriginImage:s,brushPosition:d,changeBrushPosition:u,containerSize:p,scrollRef:_,isShowLoading:h,itemId:m}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e$,{ref:_,children:[(0,i.jsx)(Y.H,{caseBy:{BACKGROUND_REMOVAL:(0,i.jsx)("div",{children:"배경 제거"}),OBJECT_REMOVAL:(0,i.jsx)(eU,{initialImageInfo:o,brushSize:r,brushType:a,scale:n,isShowOriginImage:s,changeBrushPosition:u,containerSize:p,scrollRef:_,isShowLoading:h,itemId:m}),UPSCALE:(0,i.jsx)("div",{children:"업스케일"})},value:t.toolType,defaultComponent:(0,i.jsx)(i.Fragment,{})}),!h&&(0,i.jsx)(e0,{$width:r*n,$height:r*n,$left:d.x,$top:d.y})]}),(0,i.jsx)(eX,{children:(0,i.jsxs)(eY,{children:[(0,i.jsx)(ev.h,{iconName:"subtract",type:"ghost",color:"neutralDeep",onClick:c}),(0,i.jsx)(eq,{children:(0,i.jsx)(eL.c,{value:Math.floor(100*n),min:.5,max:5,unit:"percent",size:"S",widthType:"fill"})}),(0,i.jsx)(ev.h,{iconName:"add",type:"ghost",color:"neutralDeep",onClick:l})]})})]})}),e$=l.ZP.div.withConfig({componentId:"sc-8b044308-0"})(PhotoExtraEditorCanvas_templateObject()),eX=l.ZP.div.withConfig({componentId:"sc-8b044308-1"})(PhotoExtraEditorCanvas_templateObject1(),e=>{let{theme:t}=e;return t.token.s_color_background_canvas}),eY=l.ZP.div.withConfig({componentId:"sc-8b044308-2"})(PhotoExtraEditorCanvas_templateObject2()),eq=l.ZP.div.withConfig({componentId:"sc-8b044308-3"})(PhotoExtraEditorCanvas_templateObject3()),e0=l.ZP.div.attrs(e=>{let{$width:t,$height:n,$left:o,$top:i}=e;return{style:{width:"".concat(t,"px"),height:"".concat(n,"px"),top:"".concat(i,"px"),left:"".concat(o,"px")}}}).withConfig({componentId:"sc-8b044308-4"})(PhotoExtraEditorCanvas_templateObject4());function PhotoExtraEditor_templateObject(){let e=(0,o._)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: inline-flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  background-color: ",";\n  background-image: radial-gradient(\n    circle at 1.5px 1.5px,\n    "," 1.5px,\n    transparent 0\n  );\n  background-size: 26px 26px;\n"]);return PhotoExtraEditor_templateObject=function(){return e},e}function PhotoExtraEditor_templateObject1(){let e=(0,o._)(["\n  display: flex;\n  align-items: flex-start;\n  gap: 1px;\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  position: relative;\n"]);return PhotoExtraEditor_templateObject1=function(){return e},e}function PhotoExtraEditor_templateObject2(){let e=(0,o._)([""]);return PhotoExtraEditor_templateObject2=function(){return e},e}function PhotoExtraEditor_templateObject3(){let e=(0,o._)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n"]);return PhotoExtraEditor_templateObject3=function(){return e},e}let e2=(0,m.RW)(e=>{let{initialSelectedToolInfo:t,initialImageInfo:n,closePhotoExtraEditor:o,itemId:i}=e,[r,a]=(0,u.useState)(t),[l,c]=(0,u.useState)("DRAW"),[s,d]=(0,u.useState)(50),[p,_]=(0,u.useState)({x:0,y:0}),[h,m]=(0,u.useState)({width:0,height:0,left:0,top:0}),[g,O]=(0,u.useState)(!1),{getResponse:f}=(0,H.C)(),b=f(i),{clearRedoHistory:x}=useSetRedoHistoryStore(),{clearUndoHistory:E}=useSetUndoHistoryStore(),v=(0,u.useCallback)(e=>{e&&m({width:e.getBoundingClientRect().width,height:e.getBoundingClientRect().height,left:e.getBoundingClientRect().left,top:e.getBoundingClientRect().top})},[m]);return{selectedToolInfo:r,initialImageInfo:n,brushSize:s,brushType:l,changeSelectedToolInfo:e=>{a(e)},changeBrushSize:e=>{d(e),_({x:h.width/2,y:h.height/2})},changeBrushType:e=>{c(e)},canvasSectionSize:h,response:b,isShowOriginImage:g,changeIsShowOriginImage:e=>{O(e)},onClose:()=>{x(),E(),o()},changeBrushPosition:e=>{_(e)},brushPosition:p,initCanvasSectionSize:v,itemId:i}},e=>{let{selectedToolInfo:t,initialImageInfo:n,brushSize:o,brushType:r,canvasSectionSize:a,changeBrushType:l,changeBrushSize:c,response:s,isShowOriginImage:d,changeIsShowOriginImage:u,onClose:p,brushPosition:_,changeBrushPosition:h,initCanvasSectionSize:m,itemId:g}=e;return(0,i.jsx)(PhotoExtraEditorHistoryProvider,{children:(0,i.jsxs)(e1,{tabIndex:0,onKeyDown:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,i.jsx)(ek,{response:s,changeIsShowOriginImage:u,selectedTool:t.toolType,initialImageUrl:n.url,onCloseEditor:p,itemId:g}),(0,i.jsxs)(e3,{children:[(0,i.jsx)(e5,{children:(0,i.jsx)(eO,{selectedToolInfo:t,brushType:r,changeBrushType:l,brushSize:o,changeBrushSize:c,response:s,initialImageUrl:n.url,itemId:g})}),(0,i.jsx)(e4,{ref:m,children:(0,i.jsx)(eQ,{selectedToolInfo:t,initialImageInfo:n,brushSize:o,brushType:r,brushPosition:_,changeBrushPosition:h,containerSize:a,response:s,isShowOriginImage:d,itemId:g})})]})]})})}),e1=l.ZP.div.withConfig({componentId:"sc-1bfaece9-0"})(PhotoExtraEditor_templateObject(),e=>{let{theme:t}=e;return t.token.s_color_background_canvas},e=>{let{theme:t}=e;return t.token.s_color_surface_light}),e3=l.ZP.div.withConfig({componentId:"sc-1bfaece9-1"})(PhotoExtraEditor_templateObject1()),e5=l.ZP.section.withConfig({componentId:"sc-1bfaece9-2"})(PhotoExtraEditor_templateObject2()),e4=l.ZP.section.withConfig({componentId:"sc-1bfaece9-3"})(PhotoExtraEditor_templateObject3()),e8=(0,m.RW)(()=>{let{closePhotoExtraEditor:e,photoExtraEditorOpenInfo:t}=(0,j.e)(),n=t.isOpen&&t.initialToolInfo;return{closePhotoExtraEditor:e,photoExtraEditorOpenInfo:t,isOpenPhotoExtraEditor:n}},e=>{let{closePhotoExtraEditor:t,photoExtraEditorOpenInfo:n,isOpenPhotoExtraEditor:o}=e;return(0,i.jsx)(i.Fragment,{children:o&&(0,i.jsx)(d.h,{parent:document.body,children:(0,i.jsx)(e2,{closePhotoExtraEditor:t,initialSelectedToolInfo:n.initialToolInfo,initialImageInfo:n.initialImageInfo,itemId:n.itemId})})})});var e6=n(98651),e7=n(88306),e9=n(83722),te=n(51667),tt=n(52704),tn=n(91788),to=n(9939),ti=n(77095),tr=n(21212),ta=n(18088);function DesktopRootView_templateObject(){let e=(0,o._)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return DesktopRootView_templateObject=function(){return e},e}function DesktopRootView_templateObject1(){let e=(0,o._)(["\n  flex: 1;\n  height: 0;\n  display: flex;\n  isolation: isolate;\n  z-index: ",";\n"]);return DesktopRootView_templateObject1=function(){return e},e}function DesktopRootView_templateObject2(){let e=(0,o._)(["\n  flex: none;\n  height: 100%;\n  isolation: isolate;\n  z-index: ",";\n"]);return DesktopRootView_templateObject2=function(){return e},e}function DesktopRootView_templateObject3(){let e=(0,o._)(["\n  flex: 1;\n  width: 0;\n  height: 100%;\n  isolation: isolate;\n  z-index: ",";\n"]);return DesktopRootView_templateObject3=function(){return e},e}function DesktopRootView_templateObject4(){let e=(0,o._)(["\n  flex: none;\n  height: 100%;\n  isolation: isolate;\n  z-index: ",";\n"]);return DesktopRootView_templateObject4=function(){return e},e}function DesktopRootView_templateObject5(){let e=(0,o._)(["\n  position: fixed;\n  display: flex;\n  gap: 8px;\n  top: 100px;\n  left: 50%;\n  transform: translateX(-50%);\n"]);return DesktopRootView_templateObject5=function(){return e},e}let tl=a()(()=>Promise.all([n.e(56522),n.e(71248),n.e(45406),n.e(39653),n.e(49772)]).then(n.bind(n,49772)).then(e=>e.PropertyPanelSwitch),{loadableGenerated:{webpack:()=>[49772]},ssr:!1}),tc=(0,m.RW)(te.e,e=>{let{mainPanelRef:t,onDragLeaveFromWebArea:n,onDragOverInWebArea:o,onDragStartInWebAreaButNotFiles:r,onFileDropInEditor:a,onFileDropInLeftPanel:l,onDragEndFromWebArea:d,showAppTestButton:u}=e;return(0,i.jsxs)(ts,{children:[(0,i.jsx)(tt.t,{}),(0,i.jsxs)(td,{onDragLeave:n,onDragOver:o,onDragEnd:d,onDragStart:r,children:[(0,i.jsx)(tu,{onDrop:l,children:(0,i.jsx)(to.L,{children:(0,i.jsx)(tl,{})})}),(0,i.jsx)(tp,{ref:t,onDrop:a,children:(0,i.jsx)(e9.C,{},"MainPanelView")}),(0,i.jsx)(t_,{children:(0,i.jsx)(ti.A,{})})]}),(0,i.jsx)(tr.u,{}),(0,i.jsx)(ta.m,{}),(0,i.jsx)(s.y,{style:{top:tn.sX+16,right:16}}),(0,i.jsx)(e8,{}),(0,i.jsx)(c.U,{}),u&&(0,i.jsx)(th,{children:(0,i.jsx)(e7.N,{})})]})}),ts=l.ZP.div.withConfig({componentId:"sc-a8b70d23-0"})(DesktopRootView_templateObject()),td=l.ZP.div.withConfig({componentId:"sc-a8b70d23-1"})(DesktopRootView_templateObject1(),e6._.DESIGN__BODY),tu=l.ZP.div.withConfig({componentId:"sc-a8b70d23-2"})(DesktopRootView_templateObject2(),e6._.DESIGN__BODY__LEFT_PANEL),tp=l.ZP.div.withConfig({componentId:"sc-a8b70d23-3"})(DesktopRootView_templateObject3(),e6._.DESIGN__BODY__MAIN),t_=l.ZP.div.withConfig({componentId:"sc-a8b70d23-4"})(DesktopRootView_templateObject4(),e6._.DESIGN__BODY__RIGHT_PANEL),th=l.ZP.div.withConfig({componentId:"sc-a8b70d23-5"})(DesktopRootView_templateObject5())},59608:function(e,t,n){n.d(t,{I:function(){return HorizontalGraphicButton}});var o=n(82729),i=n(85893),r=n(88095);function _templateObject(){let e=(0,o._)(["\n  display: flex;\n  justify-content: space-between;\n  padding: ",";\n  border: 1px solid\n    ",";\n  border-radius: ",";\n  align-items: center;\n  background-color: ",";\n  opacity: ",";\n  min-width: 152px;\n  max-width: 320px;\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  &.useHoverEffect:not([disabled]) {\n    &:hover {\n      background: ",";\n      border: 1px solid ",";\n    }\n\n    > * {\n      pointer-events: none;\n    }\n  }\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,o._)(["\n  width: 100%;\n  text-align: left;\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,o._)(["\n  margin-right: 12px;\n  width: 40px;\n  height: 40px;\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,o._)(["\n  padding-left: 12px;\n"]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=(0,o._)(["\n  font: ",";\n  color: ",";\n"]);return _templateObject4=function(){return e},e}function _templateObject5(){let e=(0,o._)(["\n  font: ",";\n  color: ",";\n"]);return _templateObject5=function(){return e},e}let HorizontalGraphicButton=e=>{let{onClick:t,mainText:n,subText:o,GraphicIcon:r,rightItems:p,state:_="enable",padding:h="L",...m}=e,g=!!t;return(0,i.jsxs)(a,{$state:_,$padding:h,...g&&{as:"button",onClick:t,className:"useHoverEffect",disabled:"disable"===_},...m,children:[r&&(0,i.jsx)(c,{children:r}),(0,i.jsxs)(l,{children:[(0,i.jsx)(d,{children:n}),(0,i.jsx)(u,{children:o})]}),p&&(0,i.jsx)(s,{children:p})]})},a=r.ZP.div.withConfig({componentId:"sc-f9d53a07-0"})(_templateObject(),e=>{let{$padding:t}=e;return"S"===t?"8px":"12px"},e=>{let{theme:t,$state:n}=e;return"selected"===n?t.token.s_color_brand_primary_light:t.token.s_color_border_default},e=>{let{theme:t}=e;return t.token.b_size_static_40},e=>{let{theme:t,$state:n}=e;return"selected"===n?t.token.s_color_brand_primary_surface:t.token.s_color_background_default},e=>{let{$state:t}=e;return"disable"===t?.5:1},e=>{let{theme:t}=e;return t.token.s_color_surface_lightness},e=>{let{theme:t}=e;return t.token.s_color_border_default}),l=r.ZP.div.withConfig({componentId:"sc-f9d53a07-1"})(_templateObject1()),c=r.ZP.div.withConfig({componentId:"sc-f9d53a07-2"})(_templateObject2()),s=r.ZP.div.withConfig({componentId:"sc-f9d53a07-3"})(_templateObject3()),d=r.ZP.div.withConfig({componentId:"sc-f9d53a07-4"})(_templateObject4(),e=>{let{theme:t}=e;return t.token.s_typography_body_M},e=>{let{theme:t}=e;return t.token.s_color_contents_sub}),u=r.ZP.div.withConfig({componentId:"sc-f9d53a07-5"})(_templateObject5(),e=>{let{theme:t}=e;return t.token.s_typography_body_S},e=>{let{theme:t}=e;return t.token.s_color_contents_additional})},43057:function(e,t,n){n.d(t,{a:function(){return isOpenPhotoExtraEditorSnapshotValue},e:function(){return usePhotoExtraEditorOpenInfoStore}});var o=n(48583),i=n(15103),r=n(88054);let a={isOpen:!1,initialToolInfo:{url:"",toolName:"",toolType:"BACKGROUND_REMOVAL"},itemId:"",initialImageInfo:{url:"",width:0,height:0}},l=(0,i.cn)(a),isOpenPhotoExtraEditorSnapshotValue=e=>(0,r.k)().get(l).itemId===e&&(0,r.k)().get(l).isOpen,usePhotoExtraEditorOpenInfoStore=()=>{let[e,t]=(0,o.KO)(l);return{photoExtraEditorOpenInfo:e,openPhotoExtraEditor:e=>{let{initialToolInfo:n,itemId:o,initialImageInfo:i}=e;return t({isOpen:!0,initialToolInfo:n,itemId:o,initialImageInfo:i})},closePhotoExtraEditor:()=>t(a)}}},26345:function(e,t,n){n.d(t,{A:function(){return useAIImageGeneratorLoaderQuery}});var o=n(13317);let getAIImageGeneratorLoaderQueryKeys=()=>["aiImageGeneratorLoaderQuery"];var i=n(15198);let useAIImageGeneratorLoaderQuery=()=>(0,i.Z)({scriptUrl:o.K3,queryKey:getAIImageGeneratorLoaderQueryKeys(),getLoader:()=>{var e;return null===(e=window.__MIRID)||void 0===e?void 0:e.aiImage}})},29444:function(e,t,n){n.d(t,{C:function(){return usePhotoExtraEditResponseStore},Q:function(){return getPhotoExtraEditResponseSnapShotValue}});var o=n(15103),i=n(48583),r=n(88054);let a={toolType:"OBJECT_REMOVAL",isPending:!1,requestKey:-1},l=new Map,c=(0,o.cn)(l),usePhotoExtraEditResponseStore=()=>{let[e,t]=(0,i.KO)(c);return{getResponse:t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:a},onSendRequest:e=>{let{toolType:n,requestKey:o,itemId:i}=e;t(e=>{let t=new Map(e);return t.set(i,{requestKey:o,toolType:n,isPending:!0}),t})},onSuccessResult:e=>{t(t=>{let n=new Map(t),o=n.get(e);return o&&(o.isPending=!1,n.set(e,o)),n})},onErrorRequest:e=>{t(t=>{let n=new Map(t);return n.delete(e),n})},onCancelRequest:e=>{t(t=>{let n=new Map(t);return n.delete(e),n})},onErrorResult:e=>{t(t=>{let n=new Map(t);return n.delete(e),n})}}},getPhotoExtraEditResponseSnapShotValue=e=>(0,r.k)().get(c).get(e)}}]);