"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23403],{33014:function(e,t,n){n.d(t,{s:function(){return i}});let OpenerStore=class OpenerStore{constructor(e={duration:0,animationDuration:300,maxCount:1}){this.constants=e}listeners=new Set;items=[];count=0;timeoutMap=new Map;subscribe=e=>(this.listeners.add(e),()=>{this.listeners.delete(e)});publish=e=>{this.listeners.forEach(t=>t(e))};add=e=>{let t={...e,animationState:"opening"};this.items.push(t),this.publish(t),setTimeout(()=>{t.animationState="opened",this.publish(t)},this.constants.animationDuration)};replace=(e,t)=>{"closed"===this.items[e].animationState||"closing"===this.items[e].animationState?this.items[e].unmountOnClose||(this.items[e]={...t,animationState:"opening"},this.publish(this.items[e]),setTimeout(()=>{this.items[e].animationState="opened",this.publish(this.items[e])},this.constants.animationDuration)):(this.items[e]={...t,animationState:"opened"},this.publish(this.items[e]))};addOrReplace=e=>{let t=this.items.findIndex(t=>t.id===e.id);t<0?this.add(e):this.replace(t,e)};close=e=>{let t=this.items.findIndex(t=>t.id===e);if(t<0)return Promise.resolve();let n=this.items[t];return"closing"===n.animationState||"closed"===n.animationState?Promise.resolve():(n.animationState="closing",this.publish(n),new Promise(t=>{setTimeout(()=>{let n=this.items.findIndex(t=>t.id===e),r=this.items[n];r.animationState="closed",r.unmountOnClose&&this.items.splice(n,1),this.publish(r),this.timeoutMap.delete(e),t()},n.animationDuration)}))};closeAll=()=>{let e=this.items.map(e=>this.close(e.id));return Promise.all(e)};closeUntilMaxCount=()=>{for(;this.constants.maxCount&&this.items.length&&this.items.length>=this.constants.maxCount;)this.close(this.items[0].id)};autoCloseAfter=(e,t=this.constants.duration)=>{this.timeoutMap.has(e)&&clearTimeout(this.timeoutMap.get(e));let n=setTimeout(()=>{this.close(e)},t);this.timeoutMap.set(e,n)};resetTimeout=e=>{let t=this.items.find(t=>t.id===e);t&&this.autoCloseAfter(e,t.duration)};open=({id:e,duration:t=this.constants.duration,animationDuration:n=this.constants.animationDuration,unmountOnClose:r=!0,...i})=>{let o=void 0!==e?e:this.count++;this.closeUntilMaxCount();let closeCurrent=()=>this.close(o);return this.addOrReplace({...i,unmountOnClose:r,duration:t,animationDuration:n,id:o,onClose:closeCurrent}),t>0&&this.autoCloseAfter(o,t),closeCurrent}};var r=n(46067);let i=new OpenerStore({duration:0,animationDuration:r.q3,maxCount:0})},46067:function(e,t,n){n.d(t,{Ac:function(){return u},_3:function(){return o},c0:function(){return r},q3:function(){return s},uE:function(){return c},vj:function(){return i},yF:function(){return a}});let r=4,i=8,o=r+2*i,s=250,u="--footer-height",a="bottom_sheet_footer_",c="bottom_sheet_"},51125:function(e,t,n){n.d(t,{G:function(){return BottomSheetBottomSafeArea}});var r=n(85893),i=n(88095),o=n(67294),s=n(83030);let BottomSheetBottomSafeArea=({addToSection:e=!0})=>{let t=(0,o.useRef)(),{addSection:n,removeSection:i}=(0,o.useContext)(s.Cz);return(0,o.useEffect)(()=>()=>{i("bottomSafeArea",t.current)},[]),(0,r.jsx)(u,{ref:r=>{e&&(t.current=r,n("bottomSafeArea",r))}})},u=i.ZP.div`
  touch-action: none;

  width: 100%;
  height: env(safe-area-inset-bottom);
  flex-shrink: 0;
`},49870:function(e,t,n){n.d(t,{t:function(){return useOnTouchStart}});var r=n(17762),i=n(67294),o=n(26884);let useOnTouchMoveAndEnd=()=>{let{dragEventMetrics:e,sheetRef:t,canIncreaseHeight:n,canDecreaseHeight:s,changeBottomSheetHeight:u,setDragging:a}=(0,r.Z)(),c=(0,o.w)({changeBottomSheetHeight:u}),h=(0,i.useCallback)(r=>{if(!e.current.dragging||!t?.current)return;r.preventDefault();let i=e.current.touchStart.touchY-r.touches[0].clientY,o=e.current.touchStart.sheetHeight+i,u=o>e.current.touchStart.sheetHeight,a=o<e.current.touchStart.sheetHeight;if(e.current.scrollTarget&&0===e.current.scrollTarget.scrollTop&&u){e.current.dragging=!1;return}!n&&u||!s&&a?(e.current.touchMove.sheetHeight=e.current.touchStart.sheetHeight,c.current.changeBottomSheetHeight(e.current.touchStart.sheetHeight,!0)):(e.current.touchMove.sheetHeight=o,c.current.changeBottomSheetHeight(o,!0))},[c]),l=(0,i.useCallback)(()=>{e.current.dragging=!1,e.current.scrollTarget=null,a(!1),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",l)},[]);return{onTouchMove:h,onTouchEnd:l}},useOnTouchStart=()=>{let{dragEventMetrics:e,sheetRef:t,setDragging:n}=(0,r.Z)(),{onTouchMove:o,onTouchEnd:s}=useOnTouchMoveAndEnd(),u=(0,i.useCallback)(r=>{if(!t?.current)return;n(!0);let i=Number(t.current.dataset.height??0);e.current.touchStart={sheetHeight:i,touchY:r.touches[0].clientY},e.current.touchMove={sheetHeight:i},e.current.dragging=!0;let handleTouchEnd=()=>{s(),document.removeEventListener("touchmove",o),document.removeEventListener("touchend",handleTouchEnd)};document.addEventListener("touchmove",o),document.addEventListener("touchend",handleTouchEnd)},[t,e,o,s]);return(0,i.useEffect)(()=>()=>{document.removeEventListener("touchmove",o),document.removeEventListener("touchend",s)},[o,s]),{onTouchStart:u}}},83030:function(e,t,n){n.d(t,{Cz:function(){return c},rC:function(){return BottomSheetInternalProvider}});var r=n(85893),i=n(67294);let canIncreaseBottomSheetHeight=e=>"fixed"===e,canDecreaseBottomSheetHeight=(e,t)=>"fixed"===e||t,useBottomSheetRefs=()=>{let e=(0,i.useRef)(null),t=(0,i.useRef)(new Map),n=(0,i.useCallback)(()=>{let e=[];for(let[n,r]of t.current.entries())r.length&&e.push({type:n,section:r[r.length-1]});return e},[]),checkHierarchy=e=>{for(let t of n())if(t.section!==e&&(t.section.contains(e)||e.contains(t.section)))throw Error(`useBottomSheetRefs:checkHierarchy: \uC911\uCCA9\uB41C \uC139\uC158\uC774 \uC874\uC7AC\uD569\uB2C8\uB2E4. ${t.type}`)},r=(0,i.useCallback)((e,n)=>{if(!n)return n;let r=t.current.get(e);return r?!r.includes(n)&&(checkHierarchy(n),r.push(n),o.current++):(checkHierarchy(n),t.current.set(e,[n])),n},[]),o=(0,i.useRef)(0);(0,i.useEffect)(()=>{if(o.current>0)for(let[e,n]of t.current.entries())n.length>1&&console.error("useBottomSheetRefs:useEffect","중복 등록된 섹션이 존재합니다",{type:e,sections:n})},[o.current]);let s=(0,i.useCallback)((e,n)=>{let r=t.current.get(e);if(r){if(r[r.length-1]===n)t.current.delete(e);else{let e=r?.indexOf(n)??-1;e>=0&&r.splice(e,1)}}},[]);return{sheetRef:e,getSectionEntries:n,addSection:r,removeSection:s}};var o=n(17762);let useBottomSheetSectionResizeObserver=()=>{let{isInnerBottomSheetReady:e,heightType:t,getSectionEntries:n,onSectionResized:r}=(0,o.Z)();(0,i.useEffect)(()=>{if(!e)return;let t=new ResizeObserver(()=>{r()});return n().forEach(({section:e})=>{t.observe(e)}),()=>{t.disconnect()}},[e,t,r,r])},adjustHeightToSnapPoints=({sheetHeight:e,prevHeight:t,snapPoints:n})=>{if(0===n.length)return e;let r=n.find((t,r)=>{let i=n[r+1];return!i||!(e>=(t+i)/2)});return Math.abs(e-t)>40&&r&&r-t<Number.EPSILON?n[n.indexOf(r)+1*(t<e?1:-1)]||r:r||e},convertBottomSheetHeightsToPx=(e,t,n)=>e.endsWith("%")?convertPercentageToPx(Number(e.replace("%","")),t):"hug"===e?n:Number(e.replace("px","")),convertPercentageToPx=(e,t)=>t*e/100,getInitialSheetHeight=(e,t,n,r,i=0)=>{switch(e){case"fixed":return r[i]??r[0]??t;case"hug":default:return t;case"fullPage":return n}},getFinalSheetHeight=({heightType:e,sheetHeight:t,snapPoints:n,prevHeight:r,huggingHeight:i,windowHeight:o})=>{switch(e){case"fixed":return adjustHeightToSnapPoints({sheetHeight:t,prevHeight:r,snapPoints:n});case"hug":return i;case"fullPage":return o;default:return t}},getBottomSheetFullHeight=(e,t)=>e.reduce((e,n)=>e+("handle"===n.type&&t?0:Math.max(n.section.scrollHeight,n.section.offsetHeight)),0);var s=n(26884);let u="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,useWindowSize=()=>{let[e,t]=(0,i.useState)({width:0,height:0}),n=(0,i.useCallback)(()=>{t({width:window?.innerWidth,height:window?.innerHeight})},[]);return!function(e,t,n,r){let o=(0,i.useRef)(t);u(()=>{o.current=t},[t]),(0,i.useEffect)(()=>{let t=n?.current??window;if(!(t&&t.addEventListener))return;let listener=e=>o.current(e);return t.addEventListener(e,listener,r),()=>{t.removeEventListener(e,listener,r)}},[e,n,r])}("resize",n),u(()=>{n()},[]),e},getOs=()=>{let e=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)?"ios":/android/.test(e)?"android":/macintosh|macintel|macppc|mac68k|macos/.test(e)?"mac":/win32|win64|windows|wince/.test(e)?"windows":"other"},getBrowser=()=>{let e=navigator.userAgent.toLowerCase();if(/naver/.test(e)){let t=e.match(/naver\(inapp; search; \d+; (\d+(\.\d+)*).*/),n=t&&t.length>1?t[1]:"unknown";return{name:"naver",version:n}}if(/kakaotalk/.test(e)){let t=e.match(/kakaotalk (\d+(\.\d+)*).*/),n=t&&t.length>1?t[1]:"unknown";return{name:"kakao",version:n}}if(/samsungbrowser/.test(e)){let t=e.match(/samsungbrowser\/(\d+(\.\d+)*).*/),n=t&&t.length>1?t[1]:"unknown";return{name:"samsung",version:n}}if(/crios|chrome/.test(e)){let t=e.match(/(crios|chrome)\/(\d+(\.\d+)*).*/),n=t&&t.length>2?t[2]:"unknown";return{name:"chrome",version:n}}if(/safari/.test(e)){let t=e.match(/version\/(\d+(\.\d+)*).*/),n=t&&t.length>1?t[1]:"unknown";return{name:"safari",version:n}}return{name:"other",version:"unknown"}},getPlatform=()=>{let e=navigator.userAgent.toLowerCase();return/iphone|ipod|ipad/.test(e)||/android/.test(e)?"mobile":/macintosh|macintel|macppc|mac68k|macos/.test(e)||/win32|win64|windows|wince/.test(e)?"desktop":"other"},getBrowserType=()=>{let e=getOs(),{name:t,version:n}=getBrowser(),r=getPlatform();return{name:t,os:e,platform:r,version:n}},useBrowserType=()=>{let[e,t]=(0,i.useState)(()=>({name:"other",version:"unknown",os:"other",platform:"other"}));return(0,i.useEffect)(()=>{navigator.userAgent&&t(getBrowserType())},[]),e},useKeyboardState=e=>{let[t,n]=(0,i.useState)("close"),r=useBrowserType();return(0,i.useEffect)(()=>{if("ios"!==r.os)return;let onResizeViewport=()=>{n(t=>{let n=Math.ceil(visualViewport.height);return"opening"===t&&n===e?"open":"closing"===t&&n!==e?"close":t})};return onResizeViewport(),visualViewport.addEventListener("resize",onResizeViewport),()=>{visualViewport.removeEventListener("resize",onResizeViewport)}},[r.os,e]),(0,i.useEffect)(()=>{if("android"!==r.os)return;let e=window.innerHeight,t=screen.orientation.type,onResize=()=>{let r=window.innerHeight;t!==screen.orientation.type&&(e=r,t=screen.orientation.type),r<e?n("open"):n("close")};return window.addEventListener("resize",onResize),()=>{window.removeEventListener("resize",onResize)}},[r.os]),(0,i.useEffect)(()=>{if(!["opening","closing"].includes(t))return;let e=setTimeout(()=>{n(e=>"opening"===e?"open":"closing"===e?"close":e)},1e3);return()=>{clearTimeout(e)}},[t]),t},useVisualViewportIsScrolling=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let onChange=()=>{let e=Math.round(visualViewport.pageTop),n=Math.round(window.scrollY);t(e!==n&&0!==n)};return visualViewport.addEventListener("scroll",onChange),visualViewport.addEventListener("resize",onChange),window.addEventListener("scroll",onChange),()=>{visualViewport.removeEventListener("scroll",onChange),visualViewport.removeEventListener("resize",onChange),window.removeEventListener("scroll",onChange)}},[]),e},useFixOverscrollIos=e=>{let{height:t}=useWindowSize(),n=useBrowserType(),[r,o]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{if("ios"!==n.os||!e||!t||t>=e){o(!1);return}o(!0);let r=setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},125);return()=>{clearTimeout(r)}},[n.os,e,t]),r},useVirtualViewport=()=>{let e=useBrowserType(),[t,n]=(0,i.useState)(0),[r,o]=(0,i.useState)(0),[s,u]=(0,i.useState)(0),a=useKeyboardState(t),c=useFixOverscrollIos(t),h=useVisualViewportIsScrolling();return(0,i.useEffect)(()=>{if("ios"!==e.os)return;let t=null,onResizeViewport=()=>{let e=Math.ceil(visualViewport.height);e<window.innerHeight&&(t&&(clearTimeout(t),t=null),t=setTimeout(()=>{n(e)},125)),o(e)};visualViewport.addEventListener("resize",onResizeViewport);let onScroll=()=>{u(window.scrollY)};return window.addEventListener("scroll",onScroll),()=>{visualViewport.removeEventListener("resize",onResizeViewport),window.removeEventListener("scroll",onScroll)}},[e.os]),(0,i.useEffect)(()=>{if("android"!==e.os)return;let onResize=()=>{n(window.innerHeight),o(window.innerHeight)};return window.addEventListener("resize",onResize),()=>{window.removeEventListener("resize",onResize)}},[e.os]),{heightWhenKeyboard:t,keyboardState:a,height:r,top:s,isScrolling:h||c}},useBottomSheetHeight=()=>{let{sheetRef:e,heightType:t,huggingHeight:n,getSnapPoints:r,defaultSnapPointIndex:u,isInnerBottomSheetReady:a,changeBottomSheetHeight:c,animationState:h}=(0,o.Z)(),{height:l}=useWindowSize(),{heightWhenKeyboard:d}=useVirtualViewport(),m=(0,s.w)({windowHeight:l,huggingHeight:n,defaultSnapPointIndex:u,changeBottomSheetHeight:c});(0,i.useEffect)(()=>{if("closed"===h||!e?.current||!m.current.windowHeight||!a)return;if("closing"===h){m.current.changeBottomSheetHeight(0);return}let n=getInitialSheetHeight(t,m.current.huggingHeight,m.current.windowHeight,r?.()??[],m.current.defaultSnapPointIndex);m.current.changeBottomSheetHeight(n)},[d,t,h,a]),(0,i.useEffect)(()=>{"hug"===t&&m.current.changeBottomSheetHeight(n)},[a,n,t])},useOnStopDragging=()=>{let{sheetRef:e,heightType:t,getSnapPoints:n,huggingHeight:r,triggerClose:s,isDragging:u,dragEventMetrics:a,changeBottomSheetHeight:c,canCloseByDragging:h}=(0,o.Z)(),l=(0,i.useRef)(!1),{height:d}=useWindowSize();(0,i.useEffect)(()=>{if(!e?.current||l.current===u||(l.current=u,u))return;let i=a.current.touchMove.sheetHeight,o=a.current.touchStart.sheetHeight,m=n?.()??[],g=m[0]??o;if(h&&s&&g-i>40){s();return}let f=getFinalSheetHeight({prevHeight:o,sheetHeight:i,heightType:t,huggingHeight:r,windowHeight:d,snapPoints:m});c(f)},[u,c,h])},useInitializeForwardedBottomSheetRef=()=>{let{getSnapPoints:e,externalControlRef:t,changeBottomSheetHeight:n,triggerClose:r}=(0,o.Z)();(0,i.useImperativeHandle)(t,()=>({setSnapPointTo:t=>e&&n(e()[t]),triggerClose:r}))},BottomSheetInitializer=()=>(useBottomSheetSectionResizeObserver(),useBottomSheetHeight(),useOnStopDragging(),useInitializeForwardedBottomSheetRef(),(0,r.jsx)(r.Fragment,{})),useSnapPoints=({rawSnapPoints:e,huggingHeight:t,maxHeight:n})=>{let{height:r}=useWindowSize(),o=(0,i.useRef)(e);o.current=e;let s=(0,i.useCallback)(()=>{let e=convertBottomSheetHeightsToPx(n,r,t);return o.current.map(n=>Math.min(convertBottomSheetHeightsToPx(n,r,t),e)).sort((e,t)=>e-t)},[r,t]);return{getSnapPoints:s}},useChangeBottomSheetHeight=({sheetRef:e,heightType:t,getSnapPoints:n,maxHeight:r,onChangeHeight:o,onChangeHeightBySnapPoints:s})=>{let setBottomSheetHeight=t=>{e.current&&(e.current.style.setProperty("transform",`translateY(-${t}px)`),e.current.dataset.height=`${t}`)};return(0,i.useCallback)((i,u)=>{let a=Math.min(i,r);if(setBottomSheetHeight(a),o?.(a),u?e?.current?.style.removeProperty("max-height"):e?.current?.style.setProperty("max-height",`${a}px`),"fixed"===t){let e=n?.().indexOf(a)??-1;e>-1&&s?.(e)}},[n,t,s])},useHuggingHeight=({getSectionEntries:e,heightType:t,isFloatingHandle:n})=>{let[r,o]=(0,i.useState)(0),s=(0,i.useCallback)(()=>{let t=getBottomSheetFullHeight(e(),n);o(t)},[t,e,o,n]);return{huggingHeight:r,updateHuggingHeight:s}},a={touchStart:{sheetHeight:0,touchY:0},touchMove:{sheetHeight:0},dragging:!1},c=(0,i.createContext)({}),BottomSheetInternalProvider=({bottomSheetId:e,isLast:t,animationState:n,close:o,externalControlRef:s,maxHeight:u,heightType:h,snapPoints:l=[],defaultSnapPointIndex:d,isFloatingHandle:m,canCloseByDragging:g,onChangeHeightBySnapPoints:f,onChangeHeight:w,children:p})=>{let{sheetRef:v,getSectionEntries:S,addSection:C,removeSection:H}=useBottomSheetRefs(),[E,B]=(0,i.useState)(!1),x=(0,i.useRef)(a),[b,z]=(0,i.useState)(!1),T=canIncreaseBottomSheetHeight(h),k=canDecreaseBottomSheetHeight(h,g),{huggingHeight:R,updateHuggingHeight:L}=useHuggingHeight({getSectionEntries:S,heightType:h,isFloatingHandle:m}),{height:P}=useWindowSize(),y=convertBottomSheetHeightsToPx(u,P,0),{getSnapPoints:V}=useSnapPoints({rawSnapPoints:l,huggingHeight:R,maxHeight:u}),M=useChangeBottomSheetHeight({sheetRef:v,heightType:h,getSnapPoints:V,maxHeight:y,onChangeHeight:w,onChangeHeightBySnapPoints:f});return(0,r.jsxs)(c.Provider,{value:{bottomSheetId:e,sheetRef:v,getSectionEntries:S,addSection:C,removeSection:H,externalControlRef:s,isInnerBottomSheetReady:E,setInnerBottomSheetReady:B,dragEventMetrics:x,canResize:T||k,isDragging:b,setDragging:z,heightType:h,huggingHeight:R,maxHeight:y,canIncreaseHeight:T,canDecreaseHeight:k,canCloseByDragging:g,canCloseByClickOutside:t,getSnapPoints:V,defaultSnapPointIndex:d,changeBottomSheetHeight:M,triggerClose:()=>{"closed"!==n&&"closing"!==n&&o?.()},animationState:n,onChangeHeightBySnapPoints:f,onSectionResized:L},children:[(0,r.jsx)(BottomSheetInitializer,{}),p]})}},17762:function(e,t,n){n.d(t,{Z:function(){return useInternalBottomSheetContext}});var r=n(67294),i=n(83030);let useInternalBottomSheetContext=()=>(0,r.useContext)(i.Cz)},26884:function(e,t,n){n.d(t,{w:function(){return useDependencyRef}});var r=n(67294);let useDependencyRef=e=>{let t=(0,r.useRef)(e);return t.current=e,t}}}]);